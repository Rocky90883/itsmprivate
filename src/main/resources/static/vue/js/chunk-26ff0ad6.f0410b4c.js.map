{"version":3,"sources":["webpack:///./src/views/itAssets/assetRegister/index.vue?41e7","webpack:///./src/views/itAssets/assetRegister/add.vue?6fba","webpack:///src/views/itAssets/assetRegister/add.vue","webpack:///./src/views/itAssets/assetRegister/add.vue?7d04","webpack:///./src/views/itAssets/assetRegister/add.vue","webpack:///./src/views/itAssets/assetRegister/distributionDialog.vue?e310","webpack:///src/views/itAssets/assetRegister/distributionDialog.vue","webpack:///./src/views/itAssets/assetRegister/distributionDialog.vue?bdcc","webpack:///./src/views/itAssets/assetRegister/distributionDialog.vue","webpack:///./src/api/itAssets/assetRegister.js","webpack:///src/views/itAssets/assetRegister/index.vue","webpack:///./src/views/itAssets/assetRegister/index.vue?d98d","webpack:///./src/views/itAssets/assetRegister/index.vue","webpack:///./src/views/itAssets/assetRegister/add.vue?fe45"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_b","directives","name","rawName","value","pageType","expression","ref","tableConfig","attrs","rightBtnArr","on","goBackPage","formData","_e","showMember","$event","chooseUser","orgMemberSelect","otherInfo","maxNum","distributionDialog","distributionSubmit","distributionData","staticRenderFns","formConfig","editFormData","attachSetting","hideBtn","props","type","Object","default","String","data","trainingType","itemArr","title","select","billType","sourceId","btnArr","coverList","dialogVisible","activeName","computed","mounted","id","init","undefined","$set","date","methods","assign","map","getFormData","Promise","getDetails","component","created","registerId","assetTypeName","goodsModel","getListApi","request","url","method","deleteRegist","addRegist","updateRegist","addPortion","components","label","currentItem","showFixedHeight","searchObj","searchMethod","searchArr","queryObj","queryData","page","pageSize","tableDataObj","tableArr","total","operateArr","tableObj","selectionShow","indexShow","tableMethods","selection","showItems","paginationObj","pageSizes","paginationIsshow","showklTable","arr","watch","val","empId","getTableData","toAdd","form","pageCount","billDate","beginDate","endDate","$delete","chooseStaff","typePre","seleteType","typeBre","radio","children","column","chosedData","newData","$refs","distributionFrom","addDistribution","addSeleteMember","$Vue","tabname","setTableData","detailsInfo","row","editInfo","deleteInfo","doSubmit","editAddForm","addMethons"],"mappings":"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","file":"js/chunk-26ff0ad6.f0410b4c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"assetRegister h100\"},[_c('div',{staticClass:\"page-main-box\"},[_c('KlTable',_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pageType == 'list'),expression:\"pageType == 'list'\"}],ref:\"klTable\"},'KlTable',_vm.tableConfig,false)),(_vm.pageType !== 'list')?_c('editPage',{attrs:{\"rightBtnArr\":_vm.rightBtnArr},on:{\"goBackPage\":_vm.goBackPage}},[_c('addInfo',{ref:\"editAddForm\",attrs:{\"pageType\":_vm.pageType,\"formData\":_vm.formData}})],1):_vm._e()],1),_c('dialogPublic',{attrs:{\"title\":\"选择采购人\",\"show\":_vm.showMember,\"appendTobody\":\"\",\"width\":\"800px\",\"height\":\"400px\"},on:{\"update:show\":function($event){_vm.showMember=$event},\"doSubmit\":_vm.chooseUser,\"doClose\":function () { return (_vm.showMember = false); }}},[(_vm.showMember)?_c('orgMemberSelect',{ref:\"orgMemberSelect\",attrs:{\"seleteSetting\":_vm.orgMemberSelect,\"otherInfo\":_vm.otherInfo}}):_vm._e()],1),_c('dialogPublic',{attrs:{\"title\":'资产登记-分配'+' / 剩余可分配数量：'+this.maxNum,\"show\":_vm.distributionDialog,\"appendTobody\":\"\",\"width\":\"800px\",\"height\":\"400px\"},on:{\"update:show\":function($event){_vm.distributionDialog=$event},\"doSubmit\":_vm.distributionSubmit,\"doClose\":function () { return (_vm.distributionDialog = false); }}},[_c('distributionDialog',{ref:\"distributionFrom\",attrs:{\"distributionData\":_vm.distributionData,\"maxNum\":_vm.maxNum}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"record__content\"},[_c('div',{staticClass:\"record__baseinfo\"},[_c('dividerTitle',{attrs:{\"title\":'基本信息'}}),_c('editForm',{ref:\"editForm\",attrs:{\"formConfig\":_vm.formConfig,\"formData\":_vm.editFormData}})],1),_c('div',{staticClass:\"record__attach\"},[_c('dividerTitle',{attrs:{\"title\":'附件'}}),_c('attachTable',{ref:\"attachFile\",attrs:{\"attachSetting\":_vm.attachSetting,\"hideBtn\":_vm.hideBtn}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"record__content\">\r\n    <div class=\"record__baseinfo\">\r\n      <dividerTitle :title=\"'基本信息'\"></dividerTitle>\r\n      <editForm\r\n        :formConfig=\"formConfig\"\r\n        ref=\"editForm\"\r\n        :formData=\"editFormData\"\r\n      >\r\n      </editForm>\r\n    </div>\r\n    <div class=\"record__attach\">\r\n      <dividerTitle :title=\"'附件'\"></dividerTitle>\r\n      <attachTable\r\n        :attachSetting=\"attachSetting\"\r\n        :hideBtn=\"hideBtn\"\r\n        ref=\"attachFile\"\r\n      ></attachTable>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    formData: {\r\n      type: Object,\r\n      default: new Object()\r\n    },\r\n    pageType: {\r\n      type: String,\r\n      default: \"\"\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      editFormData: { suitableWorkArr: [] },\r\n      trainingType: {},\r\n      formConfig: {\r\n        itemArr: [\r\n          {\r\n            label: \"采购日期\",\r\n            prop: \"buyDate\",\r\n            type: \"date\",\r\n            required: true,\r\n            span: 8\r\n          },\r\n          {\r\n            label: \"采购合同号\",\r\n            prop: \"contractNo\",\r\n            required: true,\r\n            type: \"text\"\r\n          },\r\n          // {\r\n          //   label: \"供应商\",\r\n          //   prop: \"companyName\",\r\n          //   idsStr:\"companyId\",\r\n          //   type: \"autocomplete\",\r\n          //   trigger: \"change\",\r\n          //   placeholder: \"可输入关键词查找供应商\",\r\n          //   seleteOption: this.$store.getters.supplierList,\r\n          // },\r\n          {\r\n            label: \"分配数量\",\r\n            prop: \"overQty\",\r\n            type: \"el-number\",\r\n            disabled: true,\r\n            min: 0,\r\n            precision: 0,\r\n            step: 1\r\n            // required: true,\r\n            // ruleArr: [{ max: 100, message: \"最多100个字符\", trigger: \"blur\" }],\r\n          },\r\n          // {\r\n          //   label: \"品牌\",\r\n          //   prop: \"brand\",\r\n          //   id: \"brand_type\",//brand_type\r\n          //   type: \"text\",\r\n          //   seleteOption: this.$store.getters[\"dirtData\"](\"assets_status\"),\r\n          // },\r\n          {\r\n            label: \"品牌\",\r\n            prop: \"brand\",\r\n            type: \"select\",\r\n            id: \"brand_type\",\r\n            seleteOption: this.$store.getters[\"dirtData\"](\"brand_type\"),\r\n            formatter: val => {\r\n              return this.$store.getters[\"fineDirtDataName\"](\r\n                \"brand_type\",\r\n                val\r\n              );\r\n            }\r\n          },\r\n          {\r\n            label: \"采购人\",\r\n            prop: \"staffunName\",\r\n            idsStr: \"empId\",\r\n            type: \"user\",\r\n            trigger: \"change\"\r\n          },\r\n          {\r\n            type: \"select\",\r\n            label: \"资产分类\",\r\n            prop: \"assetTypeId\",\r\n            required: true,\r\n            seleteOption: this.$store.getters.assetTypeList\r\n          },\r\n          {\r\n            label: \"型号\",\r\n            prop: \"goodsModel\",\r\n            required: true,\r\n            type: \"text\"\r\n            // ruleArr: [{ max: 100, message: \"最多100个字符\", trigger: \"blur\" }],\r\n          },\r\n          {\r\n            label: \"登记数量\",\r\n            prop: \"qty\",\r\n            type: \"el-number\",\r\n            required: true,\r\n            min: 0,\r\n            max: 99999999,\r\n            precision: 0,\r\n            step: 1\r\n            // required: true,\r\n            // ruleArr: [{ max: 100, message: \"最多100个字符\", trigger: \"blur\" }],\r\n          },\r\n          {\r\n            label: \"CPU\",\r\n            prop: \"cpu\",\r\n            type: \"text\"\r\n          },\r\n          {\r\n            label: \"内存\",\r\n            prop: \"ram\",\r\n            type: \"text\"\r\n          },\r\n          {\r\n            label: \"硬盘\",\r\n            prop: \"disk\",\r\n            type: \"text\"\r\n          },\r\n          {\r\n            label: \"版本\",\r\n            prop: \"edition\",\r\n            type: \"text\"\r\n          },\r\n          {\r\n            label: \"瓦数\",\r\n            prop: \"wattage\",\r\n            type: \"text\"\r\n          },\r\n          {\r\n            label: \"规格\",\r\n            prop: \"spec\",\r\n            type: \"text\"\r\n          },\r\n          {\r\n            label: \"带宽\",\r\n            prop: \"bandwidth\",\r\n            type: \"text\"\r\n          },\r\n          // {\r\n          //   label: \"频率\",\r\n          //   prop: \"brand\",\r\n          //   type: \"text\",\r\n          // },\r\n          //  {\r\n          //   label: \"授权号\",\r\n          //   prop: \"staffunName\",\r\n          //   type: \"text\",\r\n          // },\r\n          {\r\n            label: \"保修年限\",\r\n            prop: \"warranty\",\r\n            type: \"text\"\r\n          }\r\n        ]\r\n      },\r\n      //附件设置\r\n      attachSetting: {\r\n        title: \"\",\r\n        select: false,\r\n        billType: \"asset_regist\", //页面标识\r\n        sourceId: \"\", //单据的ID\r\n        btnArr: [\"add\", \"delete\", \"save\"]\r\n      },\r\n      coverList: [],\r\n      dialogVisible: false,\r\n      activeName: \"0\",\r\n\r\n      hideBtn: false\r\n    };\r\n  },\r\n  computed: {},\r\n  mounted() {\r\n    this.attachSetting.sourceId = this.formData.id;\r\n    this.init();\r\n    if (this.formData.id === undefined) {\r\n      let date = this.$utils.getNowDay();//utils.getNowDay\r\n      this.$set(this.editFormData, \"buyDate\", date);\r\n    }\r\n  },\r\n  methods: {\r\n    init() {\r\n      if (this.pageType != \"add\") {\r\n        this.editFormData = Object.assign({}, this.formData);\r\n      } \r\n      // else {\r\n      //   this.editFormData = Object.assign({}, this.formData);\r\n      // }\r\n      if (this.pageType == \"details\") {\r\n        this.hideBtn = true;\r\n        this.formConfig.itemArr.map(i => (i.disabled = true));\r\n      }\r\n      \r\n    },\r\n\r\n        //获取表单数据\r\n    getFormData() {\r\n      return new Promise((resolve, reject) => {\r\n        this.$refs.editForm\r\n          .getFormData()\r\n          .then((data) => {\r\n            data = Object.assign({}, data);\r\n            resolve(data);\r\n          })\r\n          .catch((e) => {\r\n            reject(e);\r\n          });\r\n      });\r\n    },\r\n    getDetails() {}\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n// .avatar-uploader .el-upload {\r\n//   border: 1px dashed #d9d9d9;\r\n//   border-radius: 6px;\r\n//   cursor: pointer;\r\n//   position: relative;\r\n//   overflow: hidden;\r\n// }\r\n// .avatar-uploader .el-upload:hover {\r\n//   border-color: #409eff;\r\n// }\r\n// .avatar-uploader-icon {\r\n//   font-size: 28px;\r\n//   color: #8c939d;\r\n//   width: 178px;\r\n//   height: 178px;\r\n//   line-height: 178px;\r\n//   text-align: center;\r\n//   border: 1px dashed #d9d9d9;\r\n//   border-radius: 6px;\r\n// }\r\n// .avatar {\r\n//   width: 150px;\r\n//   height: 150px;\r\n//   display: block;\r\n//   border: 1px solid #c0ccda;\r\n//   border-radius: 6px;\r\n//   margin-bottom: 10px;\r\n// }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=81350ca8&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&id=81350ca8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"81350ca8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"distributionDialog\"},[_c('editForm',{ref:\"editForm\",attrs:{\"formConfig\":_vm.formConfig,\"formData\":_vm.editFormData}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"distributionDialog\">\r\n    <editForm :formConfig=\"formConfig\" ref=\"editForm\" :formData=\"editFormData\">\r\n    </editForm>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    distributionData: {\r\n      type: Object,\r\n      default: {}\r\n    },\r\n    maxNum:{\r\n        type:Number,\r\n        default:0\r\n    }\r\n  },\r\n  name: \"distributionDialog\",\r\n  data() {\r\n    return {\r\n      editFormData: {},\r\n      formConfig: {\r\n        itemArr: [\r\n          //   {\r\n          //     label: \"采购合同号\",\r\n          //     prop: \"contractNo\",\r\n          //     required: true,\r\n          //     disabled: true,\r\n          //     type: \"text\",\r\n          //     span: 24\r\n          //   },\r\n          {\r\n            type: \"select\",\r\n            label: \"资产分类\",\r\n            prop: \"assetTypeName\",\r\n            id: \"assetTypeId\",\r\n            required: true,\r\n            disabled: true,\r\n            seleteOption: this.$store.getters.assetTypeList,\r\n            span: 24\r\n          },\r\n          {\r\n            label: \"分配型号\",\r\n            prop: \"goodsModel\",\r\n            required: true,\r\n            disabled: true,\r\n            type: \"text\",\r\n            span: 24\r\n            // ruleArr: [{ max: 100, message: \"最多100个字符\", trigger: \"blur\" }],\r\n          },\r\n        //    {\r\n        //       label: \"采购数量\",\r\n        //       prop: \"qty\",\r\n        //       required: true,\r\n        //       disabled: true,\r\n        //       type: \"number\",\r\n        //       span: 24\r\n        //     },\r\n          {\r\n            label: \"分配日期\",\r\n            prop: \"billDate\",\r\n            type: \"date\",\r\n            required: true,\r\n            span: 24\r\n          },\r\n          {\r\n            label: \"分配部门\",\r\n            prop: \"depatName\",\r\n            idsStr: \"depatCode\",\r\n            type: \"dept\",\r\n            trigger: \"change\",\r\n            required: true,\r\n            span: 24\r\n          },\r\n          {\r\n            label: \"分配数量\",\r\n            prop: \"portionQty\",\r\n            type: \"el-number\",\r\n            required: true,\r\n            min: 0,\r\n            max: this.maxNum,\r\n            precision: 0,\r\n            step: 1,\r\n            span: 24\r\n            // required: true,\r\n            // ruleArr: [{ max: 100, message: \"最多100个字符\", trigger: \"blur\" }],\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      let { id, assetTypeName, goodsModel} = this.distributionData;\r\n      let formData = {\r\n        registerId: id,\r\n        assetTypeName,\r\n        goodsModel\r\n      };\r\n      this.editFormData = Object.assign({}, formData);\r\n    //   this.editFormData = Object.assign({}, this.distributionData);\r\n    },\r\n    //获取表单数据\r\n    getFormData() {\r\n      let This = this;\r\n      return new Promise((resolve, reject) => {\r\n        this.$refs.editForm\r\n          .getFormData()\r\n          .then(data => {\r\n            data = Object.assign({}, data);\r\n            resolve(data);\r\n          })\r\n          .catch(e => {\r\n            reject(e);\r\n          });\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./distributionDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./distributionDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./distributionDialog.vue?vue&type=template&id=3f5f855b&\"\nimport script from \"./distributionDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./distributionDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from '@/request/api'\r\n/**===========基本信息接口 */\r\n//获取资产登记的列表\r\nexport function getListApi(data = {}) {\r\n    return request({\r\n        url: '/asset/assetRegistAction/queryList',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n//资产登记-删除\r\nexport function deleteRegist(id = \"\") {\r\n    return request({\r\n        url: '/asset/assetRegistAction/deleteRegist',\r\n        method: 'post',\r\n        data: { id: id }\r\n    })\r\n}\r\n//资产登记-添加\r\nexport function addRegist(data = {}) {\r\n    return request({\r\n        url: '/asset/assetRegistAction/addRegist',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n//资产登记-修改\r\nexport function updateRegist(data = {}) {\r\n    return request({\r\n        url: '/asset/assetRegistAction/updateRegist',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n//资产登记-分配\r\nexport function addPortion(data = {}) {\r\n    return request({\r\n        url: '/asset/assetRegistAction/addPortion',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\n\r\n","<template>\r\n  <div class=\"assetRegister h100\">\r\n    <!-- <publicCrumbs :crumbsData=\"crumbsData\"></publicCrumbs> -->\r\n    <div class=\"page-main-box\">\r\n      <KlTable\r\n        v-bind=\"tableConfig\"\r\n        v-show=\"pageType == 'list'\"\r\n        ref=\"klTable\"\r\n      ></KlTable>\r\n      <editPage\r\n        v-if=\"pageType !== 'list'\"\r\n        @goBackPage=\"goBackPage\"\r\n        :rightBtnArr=\"rightBtnArr\"\r\n      >\r\n        <addInfo\r\n          ref=\"editAddForm\"\r\n          :pageType=\"pageType\"\r\n          :formData=\"formData\"\r\n        ></addInfo>\r\n      </editPage>\r\n    </div>\r\n\r\n    <dialogPublic\r\n      title=\"选择采购人\"\r\n      :show.sync=\"showMember\"\r\n      @doSubmit=\"chooseUser\"\r\n      @doClose=\"() => (showMember = false)\"\r\n      appendTobody\r\n      width=\"800px\"\r\n      height=\"400px\"\r\n    >\r\n      <orgMemberSelect\r\n        ref=\"orgMemberSelect\"\r\n        v-if=\"showMember\"\r\n        :seleteSetting=\"orgMemberSelect\"\r\n        :otherInfo=\"otherInfo\"\r\n      ></orgMemberSelect>\r\n    </dialogPublic>\r\n\r\n    <dialogPublic\r\n      :title=\"'资产登记-分配'+' / 剩余可分配数量：'+this.maxNum\"\r\n      :show.sync=\"distributionDialog\"\r\n      @doSubmit=\"distributionSubmit\"\r\n      @doClose=\"() => (distributionDialog = false)\"\r\n      appendTobody\r\n      width=\"800px\"\r\n      height=\"400px\"\r\n    >\r\n      <distributionDialog \r\n      :distributionData=\"distributionData\"\r\n      :maxNum=\"maxNum\"\r\n      ref=\"distributionFrom\">\r\n      </distributionDialog>\r\n    </dialogPublic>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport addInfo from \"./add\";\r\nimport distributionDialog from \"./distributionDialog\"\r\nimport { \r\n  getListApi,//获取列表\r\n  deleteRegist,//删除\r\n  addRegist,//添加\r\n  updateRegist,//修改\r\n  addPortion//分配\r\n } from \"@/api/itAssets/assetRegister\";\r\nimport { queryAssetTypeList } from \"@/api/common\";\r\n\r\nexport default {\r\n  name: \"assetRegister\",\r\n  components: { addInfo ,distributionDialog},\r\n  data() {\r\n    return {\r\n      label: \"\",\r\n      maxNum:0,\r\n      otherInfo: \"\",\r\n      showMember: false,\r\n      distributionDialog:false,\r\n      distributionData:{},\r\n      currentItem: {},\r\n      orgMemberSelect: {},\r\n      //   crumbsData: {\r\n      //     //面包屑\r\n      //     titleList: [\r\n      //       { title: MainTitle },\r\n      //       { title: SubTitle, path: `/${MainPath}/${SubPath}` },\r\n      //     ],\r\n      //   },\r\n      tableConfig: {\r\n        showFixedHeight: true,\r\n        searchObj: {\r\n          searchMethod: (params, that) => {\r\n            if (this.tableConfig.tableDataObj) {\r\n              this.getTableData();\r\n            } else {\r\n            }\r\n          },\r\n          searchArr: [\r\n            {\r\n              type: \"daterange\",\r\n              label: \"日期选择\",\r\n              model: \"billDate\"\r\n            },\r\n            {\r\n              type: \"el-select\",\r\n              label: \"资产分类\",\r\n              model: \"assetTypeName\t\",\r\n              id:\"assetTypeId\",\r\n              option: this.$store.getters.assetTypeList,\r\n            },\r\n            {\r\n              type: \"el-input\",\r\n              label: \"采购合同号\",\r\n              model: \"contractNo\",\r\n              placeholder: \"采购合同号\"\r\n            },\r\n            {\r\n              type: \"el-input\",\r\n              label: \"型号\",\r\n              model: \"goodsModel\",\r\n              placeholder: \"型号\"\r\n            },\r\n            {\r\n              type: \"el-input\",\r\n              label: \"采购人\",\r\n              model: \"staffunName\",\r\n              id: \"empId\",\r\n              scopeType: \"formate\",\r\n              method: row => {\r\n                this.chooseStaff(\"user\");\r\n              },\r\n              placeholder: \"采购人\"\r\n            },\r\n            \r\n          ]\r\n        },\r\n        // 查询条件参数\r\n        queryObj: {\r\n          method: () => {\r\n            this.getTableData();\r\n          },\r\n          queryData: {\r\n            page: 1,\r\n            pageSize: 15 //pageCount\r\n          }\r\n        },\r\n        tableDataObj: {\r\n          tableArr: [],\r\n          total: null\r\n        },\r\n        operateArr: [\r\n          {\r\n            name: \"新建\",\r\n            // isHide: !this.$store.getters[\"isBtnAuth\"](\"insert\"),\r\n            icon: \"el-icon-plus\",\r\n            method: name => {\r\n              this.toAdd();\r\n            }\r\n          }\r\n        ],\r\n        //  table表配置参数\r\n        tableObj: {\r\n          // 左边选择框展示\r\n          selectionShow: false,\r\n          // 左边序号展示\r\n          indexShow: true,\r\n          // table表事件参数配置\r\n          tableMethods: {\r\n            selection: val => {\r\n              this.selectionData = val;\r\n            }\r\n          },\r\n          /* selectableMethod(row, index) {\r\n            let value = row.isAffirm;\r\n            return value == 0 ? true : value == 1 ? false : true;\r\n          }, */\r\n          // table表展示列配置\r\n          showItems: [\r\n            {\r\n              name: \"资产分类\",\r\n              prop: \"assetTypeName\",\r\n              width: 150\r\n              // align: \"left\",\r\n            },\r\n            {\r\n              name: \"品牌\",\r\n              prop: \"brand\",\r\n              // width: 150,\r\n              // align: \"center\",\r\n              scopeType: \"formate\",\r\n              method: (row) => {\r\n                let value = row.brand;\r\n                return this.$store.getters[\"fineDirtDataName\"](\r\n                  \"brand_type\",\r\n                  value\r\n                );\r\n              },\r\n            },\r\n            {\r\n              name: \"型号\",\r\n              prop: \"goodsModel\"\r\n            },\r\n            {\r\n              name: \"登记单号\",\r\n              prop: \"billNo\"\r\n            },\r\n            {\r\n              name: \"采购数量\",\r\n              prop: \"qty\"\r\n              // width: 100,\r\n            },\r\n            {\r\n              name: \"分配数量\",\r\n              prop: \"overQty\"\r\n              // width: 100,\r\n              // scopeType: \"formate\",\r\n              // method: (row) => {\r\n              //   let val = row.trainingDuration;\r\n              //   return val + \"分钟\";\r\n              // },\r\n            },\r\n            {\r\n              name: \"采购人\",\r\n              prop: \"staffunName\"\r\n              // width: 70\r\n            },\r\n            {\r\n              name: \"采购日期\",\r\n              prop: \"buyDate\",\r\n              width: 140\r\n            },\r\n            {\r\n              name: \"采购合同号\",\r\n              prop: \"contractNo\",\r\n              width: 150\r\n              // align: \"left\"\r\n            },\r\n            {\r\n              name: \"操作\",\r\n              prop: \"operate\",\r\n              width: 150,\r\n              scopeType: \"button\",\r\n              fixed: \"right\",\r\n              buttonArr: [\r\n                //最后一行操作栏数组\r\n                {\r\n                  name: \"详情\",\r\n                  method: row => {\r\n                    this.detailsInfo(row);\r\n                  },\r\n                  isShow: (row, that) => {\r\n                    return true;\r\n                    // return this.$store.getters[\"isBtnAuth\"](\"details\");\r\n                  },\r\n                  icon: \"false\"\r\n                },\r\n                {\r\n                  name: \"编辑\",\r\n                  method: row => {\r\n                    this.editInfo(row);\r\n                  },\r\n                  isShow: (row, that) => {\r\n                    return true;\r\n                    // return this.$store.getters[\"isBtnAuth\"](\"update\");\r\n                  },\r\n                  icon: \"false\"\r\n                },\r\n                {\r\n                  name: \"分配\",\r\n                  method: row => {\r\n                    this.maxNum = row.qty - row.overQty;\r\n                    this.distributionData = row;\r\n                    this.distributionDialog = true;\r\n                    // this.editInfo(row);\r\n                  },\r\n                  isShow: (row, that) => {\r\n                    return true;\r\n                    // return this.$store.getters[\"isBtnAuth\"](\"update\");\r\n                  },\r\n                  icon: \"false\"\r\n                },\r\n                {\r\n                  name: \"删除\",\r\n                  method: row => {\r\n                    this.deleteInfo(row);\r\n                  },\r\n                  isShow: (row, that) => {\r\n                    return true;\r\n                    // return this.$store.getters[\"isBtnAuth\"](\"delete\");\r\n                  },\r\n                  icon: \"false\"\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        },\r\n        // 分页展示总条配置\r\n        paginationObj: {\r\n          pageSizes: [15, 30, 50, 100]\r\n        },\r\n        paginationIsshow: true,\r\n        showklTable: false\r\n      },\r\n      pageType: \"list\",\r\n      formData: {}\r\n    };\r\n  },\r\n  computed: {\r\n    rightBtnArr() {\r\n      let arr = [\r\n        {\r\n          text: \"保存\",\r\n          icon: \"el-icon-finished\",\r\n          hide: this.pageType == \"details\",\r\n          methods: () => {\r\n            this.doSubmit();\r\n          }\r\n        }\r\n      ];\r\n      return arr;\r\n    }\r\n  },\r\n  watch: {\r\n    // 对人员选择框做清空处理\r\n    \"tableConfig.queryObj.queryData.staffunName\"(val) {\r\n      if (val == \"\") {\r\n        this.tableConfig.queryObj.queryData.empId = null;\r\n      }\r\n    },\r\n   pageType(val) {\r\n      if (val === \"list\") {\r\n        this.getTableData();\r\n      }\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.getTableData();\r\n   \r\n  },\r\n  methods: {\r\n    //新建\r\n    toAdd() {\r\n      this.pageType = \"add\";\r\n      this.formData = {};\r\n    },\r\n    //查询数据\r\n    getTableData() {\r\n      let form = Object.assign({}, this.tableConfig.queryObj.queryData);\r\n      form.pageCount=form.pageSize;\r\n      let { billDate } = form;\r\n      if (billDate) {\r\n        let [beginDate, endDate] = billDate;\r\n        form.beginDate = beginDate;\r\n        form.endDate = endDate;\r\n      }\r\n      this.$delete(form, \"billDate\");\r\n      this.$delete(form, 'pageSize');\r\n      this.$delete(form, 'staffunName');\r\n      getListApi(form)\r\n        .then(res => {\r\n          this.$set(\r\n            this.tableConfig.tableDataObj,\r\n            \"tableArr\",\r\n            res.data.list || []\r\n          );\r\n          this.$set(\r\n            this.tableConfig.tableDataObj,\r\n            \"total\",\r\n            res.data.total || 0\r\n          );\r\n        })\r\n        .catch(res => {\r\n          this.$set(this.tableConfig.tableDataObj, \"tableArr\", []);\r\n          this.$set(this.tableConfig.tableDataObj, \"total\", 0);\r\n        });\r\n    },\r\n    //选择组织人员\r\n    chooseStaff(type) {//对类型进行判断\r\n      let typePre = type.split(\"-\")[0];//分割type\r\n      let typeBre = type.split(\"-\")[1];\r\n      if (typePre == \"dept\") {//组织选择\r\n        this.orgMemberSelect = {\r\n          seleteType: typeBre ? typeBre : \"org\",\r\n          radio: typePre == \"dept\", //单选\r\n          props: {\r\n            label: \"organizationName\",\r\n            children: \"children\",\r\n          },\r\n          column: [\r\n            {\r\n              label: \"组织\",\r\n              prop: \"name\",\r\n            },\r\n          ],\r\n          chosedData: [],\r\n        };\r\n      } else if (typePre == \"user\") {//人员选择\r\n        this.orgMemberSelect = {\r\n          seleteType: typeBre ? typeBre : \"orgmember\",\r\n          radio: typePre == \"user\", //单选\r\n          props: {\r\n            label: \"organizationName\",\r\n            children: \"children\",\r\n          },\r\n          column: [\r\n            {\r\n              label: \"姓名\",\r\n              prop: \"name\",\r\n              width: 60,\r\n            },\r\n          ],\r\n          chosedData: [],\r\n        };\r\n      }\r\n      this.showMember = true;\r\n    },\r\n\r\n    //确定选择人员\r\n    chooseUser() {\r\n      let data = this.$refs.orgMemberSelect.getSeleteData();\r\n      let newData = data[0];\r\n      let names = \"\";\r\n      let ids = \"\";\r\n      if (newData) {\r\n        this.$set(\r\n          this.tableConfig.queryObj.queryData,\r\n          \"staffunName\",\r\n          newData.name\r\n        );\r\n        this.$set(this.tableConfig.queryObj.queryData, \"empId\", newData.id);\r\n      }\r\n      this.showMember = false;\r\n    },\r\n    //资产分配弹框确定按钮\r\n    distributionSubmit(){\r\n      this.$refs.distributionFrom\r\n        .getFormData()\r\n        .then(data => {\r\n          this.addDistribution(data).then(res => {\r\n            this.$message.success(\"操作成功！\");\r\n            this.distributionDialog = false\r\n            // this.pageType = \"list\";\r\n            this.getTableData();\r\n            // this.pageType = \"edit\";\r\n            // this.$refs.editForm.getDetails(this.formData.id);\r\n          });\r\n\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n\r\n    },\r\n    //分配\r\n    addDistribution(data){\r\n      return new Promise((resolve, reject) => {\r\n          addPortion(data)\r\n              .then((res) => {\r\n                resolve(res);\r\n              })\r\n              .catch((e) => {\r\n                console.log(e);\r\n                reject(e);\r\n              });\r\n        });\r\n    },\r\n\r\n//async getAssetTypeList()\r\n      //assetTypeId     \r\n      // let option = [];\r\n      // try {\r\n      //   let res = await queryAssetTypeList();\r\n      //   let data = res.data;\r\n      //   option = data.map(i => {\r\n      //     i.value = i.classcode;\r\n      //     i.label = i.typeName;\r\n      //     i.name = i.typeName;\r\n      //     return i;\r\n      //   });\r\n      //   return option;\r\n      // } catch (error) {\r\n      //   return option;\r\n      // }\r\n      // return data;\r\n      // console.log(option);\r\n\r\n    //确定新增\r\n    addSeleteMember() {\r\n      let $Vue = this.$Vue;\r\n      let data = this.selections;\r\n      $Vue.$refs[\"tabs\" + this.tabname][0].setTableData(data);\r\n      this.showMember = false;\r\n    },\r\n    //详情\r\n    detailsInfo(row) {\r\n      this.pageType = \"details\";\r\n      this.formData = Object.assign({}, row);\r\n    },\r\n    //编辑\r\n    editInfo(row) {\r\n      this.pageType = \"edit\";\r\n      \r\n      this.formData = Object.assign({}, row);\r\n    },\r\n\r\n    //删除\r\n    deleteInfo(row) {\r\n        this.$confirm(`是否确认删除`, \"提示\", {\r\n          // this.$confirm(`是否删除【${row.trainingName}】`, \"提示\", {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        })\r\n          .then(() => {\r\n            deleteRegist(row.id).then((res) => {\r\n              this.$message.success(\"操作成功\");\r\n              this.getTableData();\r\n            });\r\n          })\r\n          .catch((e) => {});\r\n    },\r\n    //点击提交\r\n    doSubmit() {\r\n      this.$refs.editAddForm.getFormData()\r\n        .then(data => {\r\n          this.addMethons(data).then(res => {\r\n            this.$message.success(\"保存成功！\");\r\n            if (!data.id) {\r\n              this.formData = { id: res.data };\r\n            }\r\n            this.pageType = \"list\";\r\n            this.getTableData();\r\n            // this.pageType = \"edit\";\r\n            // this.$refs.editForm.getDetails(this.formData.id);\r\n          });\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    //新增\r\n    addMethons(data) {\r\n      this.$delete(data, 'staffunName');//删除采购人名字\r\n      this.$delete(data, 'overQty');//新建以及编辑的时候不传分配数量\r\n      \r\n      if(data.id){//有ID则为修改\r\n        return new Promise((resolve, reject) => {\r\n          updateRegist(data)\r\n              .then((res) => {\r\n                resolve(res);\r\n              })\r\n              .catch((e) => {\r\n                console.log(e);\r\n                reject(e);\r\n              });\r\n        });\r\n      }else{//新增\r\n        return new Promise((resolve, reject) => {\r\n          addRegist(data)\r\n              .then((res) => {\r\n                resolve(res);\r\n              })\r\n              .catch((e) => {\r\n                console.log(e);\r\n                reject(e);\r\n              });\r\n        });\r\n      }\r\n    },\r\n    //返回\r\n    goBackPage(data) {\r\n      this.pageType = \"list\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5feb70ef&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=81350ca8&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=81350ca8&scoped=true&lang=scss&\""],"sourceRoot":""}