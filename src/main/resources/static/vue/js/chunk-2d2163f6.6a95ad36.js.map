{"version":3,"sources":["webpack:///./src/views/itOperations/applicationList/index.vue?c6f5","webpack:///./src/views/itOperations/applicationList/add.vue?8a20","webpack:///./src/api/itOperations/applicationList.js","webpack:///src/views/itOperations/applicationList/add.vue","webpack:///./src/views/itOperations/applicationList/add.vue?01db","webpack:///./src/views/itOperations/applicationList/add.vue","webpack:///src/views/itOperations/applicationList/index.vue","webpack:///./src/views/itOperations/applicationList/index.vue?1f5c","webpack:///./src/views/itOperations/applicationList/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_b","directives","name","rawName","value","pageType","expression","ref","tableConfig","attrs","rightBtnArr","on","goBackPage","formData","_e","staticRenderFns","formConfig","editFormData","scopedSlots","_u","key","fn","editFormInfo","isWorkFlowEdit","model","callback","$$v","$set","$event","stopPropagation","getDevelopers","slot","hadSeleteData","showSelete","selectDevelopers","getListApi","data","request","url","method","getDetailsApi","id","params","deleteApi","addApi","updateApi","props","type","Object","default","String","trainingType","itemArr","coverList","dialogVisible","procInstType","attachSetting","title","select","billType","sourceId","btnArr","hideBtn","activeName","computed","created","init","methods","getDetails","map","getFormData","Promise","$refs","editForm","setFormItem","comFullName","comTel","component","components","label","maxNum","currentItem","showFixedHeight","searchObj","searchMethod","searchArr","queryObj","queryData","page","pageSize","tableDataObj","tableArr","total","operateArr","tableObj","selectionShow","indexShow","tableMethods","selection","showItems","paginationObj","pageSizes","paginationIsshow","showklTable","selectType","watch","val","getTableData","arr","mounted","form","pageCount","billDate","beginDate","endDate","$delete","detailsInfo","assign","row","editInfo","deleteInfo","$confirm","confirmButtonText","cancelButtonText","doSubmit","addMethons","updateRegist","addRegist"],"mappings":"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","file":"js/chunk-2d2163f6.6a95ad36.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"assetParameter h100\"},[_c('div',{staticClass:\"page-main-box\"},[_c('KlTable',_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pageType == 'list'),expression:\"pageType == 'list'\"}],ref:\"klTable\"},'KlTable',_vm.tableConfig,false)),(_vm.pageType !== 'list')?_c('editPage',{attrs:{\"rightBtnArr\":_vm.rightBtnArr},on:{\"goBackPage\":_vm.goBackPage}},[_c('addInfo',{ref:\"editForm\",attrs:{\"pageType\":_vm.pageType,\"formData\":_vm.formData}})],1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"record__content\"},[_c('div',{staticClass:\"record__baseinfo\"},[_c('dividerTitle',{attrs:{\"title\":'基本信息'}}),_c('editForm',{ref:\"editForm\",attrs:{\"formConfig\":_vm.formConfig,\"formData\":_vm.editFormData},scopedSlots:_vm._u([{key:\"comName\",fn:function(ref){\nvar editFormInfo = ref.editFormInfo;\nreturn [_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请选择开发商\",\"readonly\":\"\",\"disabled\":_vm.pageType == 'details' && !_vm.isWorkFlowEdit,\"size\":\"mini\"},model:{value:(editFormInfo.comName),callback:function ($$v) {_vm.$set(editFormInfo, \"comName\", $$v)},expression:\"editFormInfo.comName\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.getDevelopers($event)}},slot:\"append\"})],1)]}}])})],1),(_vm.showSelete)?_c('developersSelete',{attrs:{\"hadSeleteData\":_vm.hadSeleteData,\"showSelete\":_vm.showSelete},on:{\"changeSelete\":_vm.selectDevelopers,\"update:showSelete\":function($event){_vm.showSelete=$event},\"update:show-selete\":function($event){_vm.showSelete=$event}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/request/api'\r\n/**===========基本信息接口 */\r\n//获取列表\r\nexport function getListApi(data = {}) {\r\n    return request({\r\n        url: '/maintain/AppSysAction/queryList.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n//详情\r\nexport function getDetailsApi(id = \"\") {\r\n    return request({\r\n        url: '/maintain/AppSysAction/detail.htm',\r\n        method: 'post',\r\n        params:{ id: id }\r\n    })\r\n}\r\n//删除\r\nexport function deleteApi(id = \"\") {\r\n    return request({\r\n        url: '/maintain/AppSysAction/deleteAppSys.htm',\r\n        method: 'post',\r\n        data: { id: id }\r\n    })\r\n}\r\n\r\n//添加\r\nexport function addApi(data = {}) {\r\n    return request({\r\n        url: '/maintain/AppSysAction/addAppSys.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n//修改\r\nexport function updateApi(data = {}) {\r\n    return request({\r\n        url: '/maintain/AppSysAction/updateAppSys.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\n\r\n","<template>\r\n  <div class=\"record__content\">\r\n    <div class=\"record__baseinfo\">\r\n      <dividerTitle :title=\"'基本信息'\"></dividerTitle>\r\n      <editForm\r\n        :formConfig=\"formConfig\"\r\n        ref=\"editForm\"\r\n        :formData=\"editFormData\"\r\n      >\r\n        <template #comName=\"{editFormInfo}\">\r\n          <el-input\r\n            placeholder=\"请选择开发商\"\r\n            v-model=\"editFormInfo.comName\"\r\n            readonly\r\n            :disabled=\"pageType == 'details' && !isWorkFlowEdit\"\r\n            size=\"mini\"\r\n            class=\"input-with-select\"\r\n          >\r\n            <el-button\r\n              slot=\"append\"\r\n              icon=\"el-icon-search\"\r\n              @click.stop=\"getDevelopers\"\r\n            ></el-button>\r\n          </el-input>\r\n        </template>\r\n      </editForm>\r\n    </div>\r\n    <!-- <div class=\"record__attach\">\r\n      <dividerTitle :title=\"'附件'\"></dividerTitle>\r\n      <attachTable\r\n        :attachSetting=\"attachSetting\"\r\n        :hideBtn=\"hideBtn\"\r\n        ref=\"attachFile\"\r\n      ></attachTable>\r\n    </div> -->\r\n\r\n    <developersSelete\r\n      v-if=\"showSelete\"\r\n      :hadSeleteData=\"hadSeleteData\"\r\n      @changeSelete=\"selectDevelopers\"\r\n      :showSelete.sync=\"showSelete\"\r\n    ></developersSelete>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getDetailsApi //获取详情\r\n} from \"@/api/itOperations/applicationList\";\r\nexport default {\r\n  props: {\r\n    formData: {\r\n      type: Object,\r\n      default: new Object()\r\n    },\r\n    pageType: {\r\n      type: String,\r\n      default: \"\"\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      editFormData: { suitableWorkArr: [] },\r\n      trainingType: {},\r\n      formConfig: {\r\n        itemArr: [\r\n          // {\r\n          //   label: \"业务部门\",\r\n          //   prop: \"staffunName\",\r\n          //   idsStr: \"depatCode\",\r\n          //   required: true,\r\n          //   type: \"dept\",\r\n          //   trigger: \"change\"\r\n          // },\r\n          {\r\n            label: \"系统名称\",\r\n            prop: \"sysName\",\r\n            placeholder: \"请输入系统名称\",\r\n            required: true,\r\n            type: \"text\"\r\n          },\r\n          {\r\n            label: \"主办人\",\r\n            prop: \"empName\",\r\n            // required: true,\r\n            span: 8,\r\n            // disabled: true,\r\n          },\r\n          {\r\n            label: \"开发商\",\r\n            prop: \"comName\",\r\n            id: \"companyId\",\r\n            // required: true, \r\n            type: \"text\"\r\n          },\r\n          {\r\n            label: \"开发商号码\",\r\n            prop: \"phone\",\r\n            placeholder: \"选择开发商后自动填入\",\r\n            type: \"text\"\r\n          },\r\n          {\r\n            label: \"建设时间\",\r\n            placeholder: \"请选择建设时间\",\r\n            prop: \"buildDate\",\r\n            type: \"date\",\r\n            // required: true\r\n          },\r\n          {\r\n            label: \"预计完工时间\",\r\n            placeholder: \"请选择预计完工时间\",\r\n            prop: \"planDate\",\r\n            type: \"date\",\r\n            // required: true\r\n          },\r\n          {\r\n            label: \"上线时间\",\r\n            placeholder: \"请选择上线时间\",\r\n            prop: \"onlineDate\",\r\n            type: \"date\"\r\n            // required: true,\r\n          },\r\n          {\r\n            label: \"备注\",\r\n            prop: \"remark\",\r\n            type: \"textarea\",\r\n            span: 24,\r\n            rows: 4\r\n          }\r\n        ]\r\n      },\r\n\r\n      coverList: [],\r\n      dialogVisible: false,\r\n      hadSeleteData: [],\r\n      showSelete: false,\r\n      procInstType:null,\r\n      //附件设置\r\n      attachSetting: {\r\n        title: \"\",\r\n        select: false,\r\n        billType: this.procInstType, //页面标识\r\n        sourceId: \"\", //单据的ID\r\n        btnArr: [\"add\", \"delete\", \"save\"]\r\n      },\r\n      hideBtn: false,\r\n      //\r\n      activeName: \"0\"\r\n    };\r\n  },\r\n  computed: {},\r\n  created() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      if (this.pageType != \"add\") {\r\n        this.getDetails(this.formData.id);\r\n      } else {\r\n        this.editFormData = {};\r\n        // this.editFormData = Object.assign({}, this.formData);\r\n      }\r\n      if (this.pageType == \"details\") {\r\n        this.formConfig.itemArr.map(i => (i.disabled = true));\r\n        this.attachSetting.sourceId = this.formData.id; //附件id\r\n      }\r\n    },\r\n\r\n    //获取表单数据\r\n    getFormData() {\r\n      let This = this;\r\n      return new Promise((resolve, reject) => {\r\n        this.$refs.editForm\r\n          .getFormData()\r\n          .then(data => {\r\n            data = Object.assign({}, data);\r\n            resolve(data);\r\n          })\r\n          .catch(e => {\r\n            reject(e);\r\n          });\r\n      });\r\n    },\r\n    //获取详情\r\n    async getDetails(id) {\r\n      let res = await getDetailsApi(id);\r\n      let obj = res.data || {};\r\n      this.procInstType = obj.procInstType;//附件页面标识\r\n      this.attachSetting.sourceId = obj.id;//附件对应的流程ID，新建流程保存后即可添加附件\r\n      // console.log(obj);\r\n      this.editFormData = Object.assign({}, obj, {\r\n        confirmMan: obj.empId,\r\n        confirmManName: obj.zystaffunName\r\n      });\r\n    },\r\n    //点击选择开发商\r\n    getDevelopers() {\r\n      if (this.pageType == \"details\") {\r\n        return;\r\n      }\r\n      let sourceId = this.$refs.editForm.getFormItem(\"sourceId\");\r\n      this.hadSeleteData = [{ id: sourceId }];\r\n\r\n      this.showSelete = true;\r\n    },\r\n    //确定选择开发商\r\n    selectDevelopers(list) {\r\n      let [obj] = list;\r\n      let {\r\n        comNumber,\r\n        comFullName,\r\n        comAddress,\r\n        comTel,\r\n        comPerson,\r\n        personMobile,\r\n        id\r\n      } = obj;\r\n      this.$refs.editForm.setFormItem(\"companyId\", id); //开发商编号\r\n      this.$refs.editForm.setFormItem(\"comName\", comFullName); //开发商名称\r\n      this.$refs.editForm.setFormItem(\"phone\", comTel); //开发商电话\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=572ae84a&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"572ae84a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"assetParameter h100\">\r\n    <!-- <publicCrumbs :crumbsData=\"crumbsData\"></publicCrumbs> -->\r\n    <div class=\"page-main-box\">\r\n      <KlTable\r\n        v-bind=\"tableConfig\"\r\n        v-show=\"pageType == 'list'\"\r\n        ref=\"klTable\"\r\n      ></KlTable>\r\n      <editPage\r\n        v-if=\"pageType !== 'list'\"\r\n        @goBackPage=\"goBackPage\"\r\n        :rightBtnArr=\"rightBtnArr\"\r\n      >\r\n        <addInfo\r\n          ref=\"editForm\"\r\n          :pageType=\"pageType\"\r\n          :formData=\"formData\"\r\n        ></addInfo>\r\n      </editPage>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport addInfo from \"./add\";\r\nimport {\r\n  getListApi, //获取列表\r\n  deleteApi, //删除\r\n  addApi, //添加\r\n  updateApi //编辑\r\n} from \"@/api/itOperations/applicationList\";\r\n\r\nexport default {\r\n  name: \"assetParameter\",\r\n  components: { addInfo },\r\n  data() {\r\n    return {\r\n      label: \"\",\r\n      maxNum: 0,\r\n      currentItem: {},\r\n      tableConfig: {\r\n        showFixedHeight: true,\r\n        searchObj: {\r\n          searchMethod: (params, that) => {\r\n            if (this.tableConfig.tableDataObj) {\r\n              this.getTableData();\r\n            } else {\r\n            }\r\n          },\r\n          searchArr: [\r\n            {\r\n              type: \"daterange\",\r\n              label: \"申请日期\",\r\n              model: \"billDate\"\r\n            },\r\n            {\r\n              label: \"主办人\",\r\n              model: \"empName\",\r\n              placeholder: \"主办人\",\r\n              type: \"el-input\"\r\n            },\r\n            {\r\n              label: \"系统名称\",\r\n              model: \"sysName\",\r\n              placeholder: \"系统名称\",\r\n              type: \"el-input\"\r\n            }\r\n          ]\r\n        },\r\n        // 查询条件参数\r\n        queryObj: {\r\n          method: () => {\r\n            this.getTableData();\r\n          },\r\n          queryData: {\r\n            page: 1,\r\n            pageSize: 15\r\n          }\r\n        },\r\n        tableDataObj: {\r\n          tableArr: [],\r\n          total: null\r\n        },\r\n        operateArr: [\r\n          {\r\n            name: \"新建\",\r\n            isHide: false,\r\n            // isHide: !this.$store.getters[\"isBtnAuth\"](\"insert\"),\r\n            icon: \"el-icon-plus\",\r\n            method: name => {\r\n              this.pageType = \"add\";\r\n            }\r\n          }\r\n        ],\r\n        //  table表配置参数\r\n        tableObj: {\r\n          // 左边选择框展示\r\n          selectionShow: false,\r\n          // 左边序号展示\r\n          indexShow: true,\r\n          // table表事件参数配置\r\n          tableMethods: {\r\n            selection: val => {\r\n              this.selectionData = val;\r\n            }\r\n          },\r\n          // table表展示列配置\r\n          showItems: [\r\n            // {\r\n            //   name: \"业务部门\",\r\n            //   prop: \"assetsNumber\"\r\n            //   // width: 150\r\n            //   // align: \"left\",\r\n            // },\r\n            {\r\n              name: \"系统名称\",\r\n              prop: \"sysName\"\r\n            },\r\n            {\r\n              name: \"建设日期\",\r\n              prop: \"buildDate\"\r\n            },\r\n            {\r\n              name: \"预计完工日期\",\r\n              prop: \"planDate\"\r\n            },\r\n            {\r\n              name: \"上线时间\",\r\n              prop: \"onlineDate\"\r\n            },\r\n            {\r\n              name: \"开发商\",\r\n              prop: \"comName\",\r\n              id: \"companyId\"\r\n            },\r\n            {\r\n              name: \"联系电话\",\r\n              prop: \"phone\",\r\n            },\r\n            {\r\n              name: \"主办人\",\r\n              prop: \"empName\"\r\n            },\r\n            {\r\n              name: \"操作\",\r\n              prop: \"operate\",\r\n              width: 100,\r\n              scopeType: \"button\",\r\n              fixed: \"right\",\r\n              buttonArr: [\r\n                //最后一行操作栏数组\r\n                {\r\n                  name: \"详情\",\r\n                  method: row => {\r\n                    this.detailsInfo(row);\r\n                  },\r\n                  isShow: (row, that) => {\r\n                    return true;\r\n                    // return this.$store.getters[\"isBtnAuth\"](\"details\");\r\n                  },\r\n                  icon: \"false\"\r\n                },\r\n                {\r\n                  name: \"编辑\",\r\n                  method: row => {\r\n                    this.editInfo(row);\r\n                  },\r\n                  isShow: (row, that) => {\r\n                    return true;\r\n                    // return this.$store.getters[\"isBtnAuth\"](\"update\");\r\n                  },\r\n                  icon: \"false\"\r\n                },\r\n                {\r\n                  name: \"删除\",\r\n                  method: row => {\r\n                    this.deleteInfo(row);\r\n                  },\r\n                  isShow: (row, that) => {\r\n                    return true;\r\n                    // return this.$store.getters[\"isBtnAuth\"](\"delete\");\r\n                  },\r\n                  icon: \"false\"\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        },\r\n        // 分页展示总条配置\r\n        paginationObj: {\r\n          pageSizes: [15, 30, 50, 100]\r\n        },\r\n        paginationIsshow: true,\r\n        showklTable: false\r\n      },\r\n      pageType: \"list\",\r\n      selectType: null,\r\n      formData: {}\r\n    };\r\n  },\r\n  watch: {\r\n    pageType(val) {\r\n      if (val === \"list\") {\r\n        this.getTableData();\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    rightBtnArr() {\r\n      let arr = [\r\n        {\r\n          text: \"保存\",\r\n          icon: \"el-icon-finished\",\r\n          hide: this.pageType == \"details\",\r\n          methods: () => {\r\n            this.doSubmit();\r\n          }\r\n        }\r\n      ];\r\n      return arr;\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.getTableData();\r\n  },\r\n  methods: {\r\n    //查询数据\r\n    getTableData() {\r\n      let form = Object.assign({}, this.tableConfig.queryObj.queryData);\r\n      // this.$delete(form, \"staffunName\");//去掉人的中文名\r\n      // this.$delete(form, \"depatName\");//去掉部门的中文名\r\n      form.pageCount = form.pageSize;\r\n      //日期处理\r\n      let { billDate } = form;\r\n      if (billDate) {\r\n        let [beginDate, endDate] = billDate;\r\n        form.beginDate = beginDate;\r\n        form.endDate = endDate;\r\n      }\r\n      this.$delete(form, \"billDate\");\r\n      this.$delete(form, \"pageSize\");\r\n      getListApi(form)\r\n        .then(res => {\r\n          this.$set(\r\n            this.tableConfig.tableDataObj,\r\n            \"tableArr\",\r\n            res.data.list || []\r\n          );\r\n          this.$set(\r\n            this.tableConfig.tableDataObj,\r\n            \"total\",\r\n            res.data.total || 0\r\n          );\r\n        })\r\n        .catch(res => {\r\n          this.$set(this.tableConfig.tableDataObj, \"tableArr\", []);\r\n          this.$set(this.tableConfig.tableDataObj, \"total\", 0);\r\n        });\r\n    },\r\n\r\n    //详情\r\n    detailsInfo(row) {\r\n      this.pageType = \"details\";\r\n      this.formData = Object.assign({}, row);\r\n    },\r\n    //编辑\r\n    editInfo(row) {\r\n      this.formData = Object.assign({}, row);\r\n      this.pageType = \"edit\";\r\n    },\r\n\r\n    //删除\r\n    deleteInfo(row) {\r\n      this.$confirm(`是否确认删除`, \"提示\", {\r\n        // this.$confirm(`是否删除【${row.trainingName}】`, \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          deleteApi(row.id).then(res => {\r\n            this.$message.success(\"操作成功\");\r\n            this.getTableData();\r\n          });\r\n        })\r\n        .catch(e => {});\r\n    },\r\n\r\n    //点击提交\r\n    doSubmit(submitType) {\r\n      this.$refs.editForm\r\n        .getFormData()\r\n        .then(data => {\r\n          // console.log(data);\r\n          // this.$set(data, \"submitType\", submitType);\r\n          // this.$delete(data, \"assetsNumber\");\r\n          // this.$delete(data, \"appsysName\");\r\n          const actionApi = queryData => {\r\n            //addApi\r\n            return queryData.id ? updateApi(queryData) : addApi(queryData);\r\n          };\r\n          actionApi(data).then(res => {\r\n            this.$message.success(\"操作成功！\");\r\n            if (submitType == 2) {\r\n              this.pageType = \"edit\";\r\n              if (res.data) {\r\n                this.formData.id = res.data;\r\n              }\r\n              this.$refs.editForm.getDetails(this.formData.id);\r\n            } else {\r\n              this.pageType = \"list\";\r\n            }\r\n          });\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    //新增\r\n    addMethons(data) {\r\n      this.$delete(data, \"staffunName\"); //删除采购人名字\r\n      if (data.id) {\r\n        //有ID则为修改\r\n        return new Promise((resolve, reject) => {\r\n          updateRegist(data)\r\n            .then(res => {\r\n              resolve(res);\r\n            })\r\n            .catch(e => {\r\n              console.log(e);\r\n              reject(e);\r\n            });\r\n        });\r\n      } else {\r\n        //新增\r\n        return new Promise((resolve, reject) => {\r\n          addRegist(data)\r\n            .then(res => {\r\n              resolve(res);\r\n            })\r\n            .catch(e => {\r\n              console.log(e);\r\n              reject(e);\r\n            });\r\n        });\r\n      }\r\n    },\r\n    //返回\r\n    goBackPage(data) {\r\n      this.pageType = \"list\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=187df388&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}