{"version":3,"sources":["webpack:///./src/views/flowManage/flowList.vue?b7bd","webpack:///./src/views/flowManage/details.vue?12cf","webpack:///./src/views/flowManage/flowType.js","webpack:///src/views/flowManage/details.vue","webpack:///./src/views/flowManage/details.vue?44a0","webpack:///./src/views/flowManage/details.vue","webpack:///src/views/flowManage/flowList.vue","webpack:///./src/views/flowManage/flowList.vue?e4c9","webpack:///./src/views/flowManage/flowList.vue","webpack:///./src/api/itService/softwareApply.js","webpack:///./src/api/itService/dataAccessApply.js","webpack:///./src/views/itService/dataAccessApply/add.vue?e404","webpack:///src/views/itService/dataAccessApply/add.vue","webpack:///./src/views/itService/dataAccessApply/add.vue?b95b","webpack:///./src/views/itService/dataAccessApply/add.vue","webpack:///./src/api/itService/informationSystemsApply.js","webpack:///./src/api/itService/repairApply.js","webpack:///./src/views/itService/usersApply/add.vue?4a00","webpack:///src/views/itService/usersApply/add.vue","webpack:///./src/views/itService/usersApply/add.vue?940c","webpack:///./src/views/itService/usersApply/add.vue","webpack:///./src/views/itService/informationSystemsApply/add.vue?f608","webpack:///src/views/itService/informationSystemsApply/add.vue","webpack:///./src/views/itService/informationSystemsApply/add.vue?52e1","webpack:///./src/views/itService/informationSystemsApply/add.vue","webpack:///./src/views/itService/repairApply/add.vue?ae9f","webpack:///src/views/itService/repairApply/add.vue","webpack:///./src/views/itService/repairApply/add.vue?e766","webpack:///./src/views/itService/repairApply/add.vue","webpack:///./src/api/itService/usersApply.js","webpack:///./src/api/itService/informationResourceApply.js","webpack:///./src/views/itService/informationResourceApply/add.vue?c416","webpack:///src/views/itService/informationResourceApply/add.vue","webpack:///./src/views/itService/informationResourceApply/add.vue?b5af","webpack:///./src/views/itService/informationResourceApply/add.vue","webpack:///./src/views/itService/softwareApply/add.vue?4ed7","webpack:///./src/views/itService/softwareApply/softwareSelete.vue?2e6a","webpack:///src/views/itService/softwareApply/softwareSelete.vue","webpack:///./src/views/itService/softwareApply/softwareSelete.vue?f2bf","webpack:///./src/views/itService/softwareApply/softwareSelete.vue","webpack:///src/views/itService/softwareApply/add.vue","webpack:///./src/views/itService/softwareApply/add.vue?da98","webpack:///./src/views/itService/softwareApply/add.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_b","directives","name","rawName","value","pageType","expression","ref","tableConfig","attrs","rightBtnArr","on","goBackPage","formData","$event","slot","_v","_s","contentText","_e","staticRenderFns","editFormData","componentName","tag","pageFlowType","flowTypeObj","props","type","Object","default","String","components","dataAccessApply","informationResourceApply","usersApply","softwareApply","informationSystemsApply","repairApply","watch","$emit","val","data","flowType","created","init","computed","methods","assign","component","showFixedHeight","searchObj","searchMethod","searchArr","queryObj","method","queryData","page","pageSize","tableDataObj","tableArr","total","operateArr","tableObj","selectionShow","indexShow","tableMethods","selection","showItems","paginationObj","pageSizes","paginationIsshow","showklTable","getTableData","mounted","row","id","details","form","pageCount","billDate","beginDate","endDate","$router","push","getListApi","request","url","getAllowListApi","getDetailsApi","params","deleteApi","addApi","updateApi","deleteDataaccess","addDataaccess","updateDataccess","formConfig","status","scoreSetting","scoreHideBtn","showScore","attachSetting","hideBtn","beforeSubmit","workFlowParams","workFlowSuccess","defaultSet","Boolean","hadSeleteData","trainingType","itemArr","procInstType","title","select","billType","sourceId","btnArr","coverList","dialogVisible","activeName","workflowIsApprover","assignercodes","confirmMan","isWorkFlowEdit","defaultForm","$utils","getNowDay","getDetails","map","submitBefore","Promise","getFormData","$refs","editForm","deleteDemandapp","addDemandapp","updateDemandapp","deleteRepairapp","addRepairapp","updateRepairapp","scopedSlots","_u","key","fn","editFormInfo","model","callback","$$v","$set","stopPropagation","goSeleteAsset","showSelete","employeeId","changeSeleteAsset","$message","warning","setFormItem","assetsNumber","assetTypeName","goodsModel","detailsSetting","addSoftware","changeSeleteSorft","assetSeleteData","showAssetSelete","showDialong","doSave","doClose","tableSetting","Array","maxHeight","column","list","maxNum","addMethons","checkSoftware","i","qty","editable","setTableData"],"mappings":"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","file":"js/chunk-28ed344d.7127f891.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"h100\"},[_c('KlTable',_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pageType == 'list'),expression:\"pageType == 'list'\"}],ref:\"klTable\"},'KlTable',_vm.tableConfig,false)),(_vm.pageType !== 'list')?_c('editPage',{attrs:{\"rightBtnArr\":_vm.rightBtnArr},on:{\"goBackPage\":_vm.goBackPage}},[_c('detailsInfo',{ref:\"details\",attrs:{\"formData\":_vm.formData,\"pageType\":_vm.pageType},on:{\"update:pageType\":function($event){_vm.pageType=$event},\"update:page-type\":function($event){_vm.pageType=$event}}}),_c('span',{attrs:{\"slot\":\"contentText\"},slot:\"contentText\"},[_vm._v(_vm._s(_vm.contentText))])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flow-details\"},[(_vm.editFormData.id)?_c('div',{staticClass:\"flow-details__baseinfo\"},[_c(_vm.componentName,{tag:\"component\",attrs:{\"formData\":_vm.editFormData,\"pageType\":_vm.pageFlowType},on:{\"update:pageType\":function($event){_vm.pageFlowType=$event},\"update:page-type\":function($event){_vm.pageFlowType=$event}}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nlet flowTypeObj = {\r\n    \"accountapp\": { componentName: \"usersApply\" },/**账号权限申请 */\r\n    \"dataccessapp\": { componentName: \"dataAccessApply\" },/**数据接入申请 */\r\n    \"demandapp\": { componentName: \"informationSystemsApply\" },/**信息系统需求申请 */\r\n    \"msgapp\": { componentName: \"informationResourceApply\" },/**信息资源申请 */\r\n    \"officeapp\": { componentName: \"softwareApply\" },/**提交正版软件申请 */\r\n    \"repairapp\": { componentName: \"repairApply\" },/**故障报修申请 */\r\n    // ANNUAL_TARGET_EXAM_CODE: { componentName: \"annulTargetExam\" },/**年度目标考核 */\r\n    // ANNUAL_TARGET_CODE: { componentName: \"annulTarget\" },/**年度目标 */\r\n    // \"FULL_ACCIDENT_CODE\": { componentName: \"accidentRecord\" },/**事故记录 */\r\n    // \"HIDDEN_DANGER_VIDEO\": { componentName: \"videoPatrol\" },/**监控巡查 */\r\n    // \"INSP_RECT_NOTICE_CODE\": { componentName: \"videoPatrol\" },/**监控巡查 */\r\n    // \"MONTHLY_MAGAZINE_FLOW_CODE\": { componentName: \"safeReport\" },/**安全月报 */\r\n    // \"SAFETY_INVESTMENT_CODE\": { componentName: \"useAccount\" }/**安全投入使用台账 */\r\n    // SPECIAL_SCHEME_CODE: { componentName: \"workPlan\" },/**专项施工方案 */\r\n}\r\nexport default (flowTypeObj)\r\n","<template>\r\n  <div class=\"flow-details\">\r\n    <div class=\"flow-details__baseinfo\" v-if=\"editFormData.id\">\r\n      <component v-bind:is=\"componentName\" :formData=\"editFormData\" :pageType.sync=\"pageFlowType\"></component>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dataAccessApply from \"@/views/itService/dataAccessApply/add\"; /**数据接入申请 */\r\nimport informationResourceApply from \"@/views/itService/informationResourceApply/add\"; /**信息资源申请 */\r\nimport usersApply from \"@/views/itService/usersApply/add\"; /**用户账号权限申请 */\r\nimport softwareApply from \"@/views/itService/softwareApply/add\"; /**正版软件申请 */\r\nimport informationSystemsApply from \"@/views/itService/informationSystemsApply/add\"; /**信息系统需求申请 */\r\nimport repairApply from \"@/views/itService/repairApply/add\"; /**故障报修 */\r\n\r\nimport flowTypeObj from \"./flowType\";\r\nexport default {\r\n  props: {\r\n    formData: {\r\n      type: Object,\r\n      default: {},\r\n    },\r\n    pageType: {\r\n      type: String,\r\n      default: \"details\",\r\n    },\r\n  },\r\n  components: {\r\n    dataAccessApply,\r\n    informationResourceApply,\r\n    usersApply,\r\n    softwareApply,\r\n    informationSystemsApply,\r\n    repairApply,\r\n  },\r\n  watch: {\r\n    pageFlowType(val) {\r\n      this.$emit(\"update:pageType\", val);\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      pageFlowType: \"details\",\r\n      editFormData: {},\r\n      flowTypeObj: flowTypeObj,\r\n    };\r\n  },\r\n  created() {\r\n    this.init();\r\n    // this.getFormId();\r\n  },\r\n  computed: {\r\n    componentName() {\r\n      let { componentName } = this.flowTypeObj[this.formData.procInstType];\r\n      // console.log(componentName);\r\n      return componentName;\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.editFormData = Object.assign({}, this.formData);\r\n      // console.log(this.formData);\r\n    },\r\n    // getFormId() {\r\n    //   let { id } = this.formData;\r\n    //   console.log(id);\r\n    //   queryAuditByBillId(billId).then((res) => {\r\n    //     let data = res.data || {};\r\n    //     data.id = data.ywId;\r\n    //     data.status = 1; /**随手拍字段 */\r\n    //     this.editFormData = Object.assign({}, data);\r\n    //   });\r\n    // },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./details.vue?vue&type=template&id=5f249222&\"\nimport script from \"./details.vue?vue&type=script&lang=js&\"\nexport * from \"./details.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"h100\">\r\n    <KlTable\r\n      v-bind=\"tableConfig\"\r\n      v-show=\"pageType == 'list'\"\r\n      ref=\"klTable\"\r\n    ></KlTable>\r\n    <editPage\r\n      v-if=\"pageType !== 'list'\"\r\n      @goBackPage=\"goBackPage\"\r\n      :rightBtnArr=\"rightBtnArr\"\r\n    >\r\n      <detailsInfo\r\n        ref=\"details\"\r\n        :formData=\"formData\"\r\n        :pageType.sync=\"pageType\"\r\n      ></detailsInfo>\r\n      <span slot=\"contentText\">{{ contentText }}</span>\r\n    </editPage>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getWorkflowList } from \"@/api/common\";\r\nimport detailsInfo from \"./details\";\r\nexport default {\r\n  components: { detailsInfo },\r\n  props: [\"flowType\"],\r\n  data() {\r\n    let that = this;\r\n    return {\r\n      tableConfig: {\r\n        showFixedHeight: true,\r\n        //table数据\r\n        searchObj: {\r\n          searchMethod: (params, that) => {\r\n            if (this.tableConfig.tableDataObj) {\r\n              this.getTableData();\r\n            } else {\r\n            }\r\n          },\r\n          searchArr: [\r\n            // {\r\n            //   label: \"发起时间\",\r\n            //   type: \"daterange\",\r\n            //   model: \"billDate\"\r\n            // },\r\n            // {\r\n            //   label: \"业务编号\",\r\n            //   type: \"el-input\",\r\n            //   model: \"billId\",\r\n            //   placeholder: \"输入完整编号\"\r\n            // },\r\n            // {\r\n            //   label: \"标题\",\r\n            //   type: \"el-input\",\r\n            //   model: \"title\",\r\n            //   placeholder: \"模糊查询\"\r\n            // },\r\n            {\r\n              label: \"服务类型\",\r\n              type: \"el-select\",\r\n              model: \"procInstType\",\r\n              option: this.$store.getters[\"dirtData\"](\"procInst_type\")\r\n            },\r\n            // {\r\n            //   label: \"模板编号\",\r\n            //   type: \"el-input\",\r\n            //   model: \"setCode\",\r\n            //   placeholder: \"模糊查询\"\r\n            // },\r\n            // {\r\n            //   label: \"审批状态\",\r\n            //   type: \"el-select\",\r\n            //   option: [\r\n            //     // { name: \"草稿\", value: 0 },\r\n            //     { name: \"审批中\", value: 1 },\r\n            //     { name: \"完成\", value: 2 }\r\n            //     // { name: \"废弃\", value: 3 }\r\n            //   ],\r\n            //   model: \"status\"\r\n            // },\r\n            \r\n          ]\r\n        },\r\n        // 查询条件参数\r\n        queryObj: {\r\n          method: () => {\r\n            this.getTableData();\r\n          },\r\n          queryData: {\r\n            type: this.flowType,\r\n            page: 1,\r\n            pageSize: 15\r\n          }\r\n        },\r\n        tableDataObj: {\r\n          tableArr: [],\r\n          total: null\r\n        },\r\n        operateArr: [],\r\n        //  table表配置参数\r\n        tableObj: {\r\n          // 左边选择框展示\r\n          selectionShow: false,\r\n          // 左边序号展示\r\n          indexShow: true,\r\n          // table表事件参数配置\r\n          tableMethods: {\r\n            selection: val => {\r\n              this.tableData = val;\r\n            }\r\n          },\r\n          // table表展示列配置\r\n          showItems: [\r\n            {\r\n              name: \"服务单号\",\r\n              prop: \"orderNo\",\r\n              // width: 150,\r\n              // align: \"left\"\r\n            },\r\n            {\r\n              name: \"模块名称\",\r\n              prop: \"procInstName\",\r\n              // width: 120,\r\n              // align: \"left\"\r\n            },\r\n            {\r\n              name: \"起草人\",\r\n              prop: \"draftsman\",\r\n              width: 40,\r\n              // align: \"center\"\r\n            },\r\n            { name: \"申请人\", prop: \"staffunName\",width: 40, align: \"center\" },\r\n            { name: \"申请描述\", prop: \"appContent\",},\r\n            {\r\n              name: \"发起日期\",\r\n              prop: \"billDate\",\r\n              // width: 100,\r\n              // align: \"left\"\r\n            },\r\n            { name: \"当前节点\", prop: \"currenttaskname\", },\r\n            { name: \"当前审核人\", prop: \"auditorName\",},\r\n            {\r\n              name: \"审批状态\",\r\n              prop: \"flowStatusName\",\r\n              width: 50,\r\n              // scopeType: \"formate\",\r\n              // method: row => {\r\n              //   let value = row.flowStatusName;\r\n              //   console.log(value);\r\n              //   // const status = [\"\", \"审批中\", \"完成\", \"废弃\"];\r\n              //   // return status[value] || value;\r\n              // }\r\n            },\r\n\r\n            {\r\n              name: \"操作\",\r\n              prop: \"operate\",\r\n              width: 60,\r\n              scopeType: \"button\",\r\n              fixed: \"right\",\r\n              buttonArr: [\r\n                //最后一行操作栏数组\r\n                {\r\n                  name: \"详情\",\r\n                  method: row => {\r\n                    this.details(row);\r\n                  },\r\n                  isShow: (row, that) => {\r\n                    return true;\r\n                  },\r\n                  icon: \"false\"\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        },\r\n        // 分页展示总条配置\r\n        paginationObj: {\r\n          pageSizes: [15, 30, 50, 100]\r\n        },\r\n        paginationIsshow: true,\r\n        showklTable: false\r\n      },\r\n      formData: {},\r\n      pageType: \"list\",\r\n      rightBtnArr: []\r\n    };\r\n  },\r\n  watch: {\r\n    pageType(val) {\r\n      if (val === \"list\") {\r\n        this.getTableData();\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    contentText() {\r\n      let {procInstName, id } = this.formData;\r\n      return `业务编号：【${id}】   所属模块：【${procInstName}】`;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      let row = this.$route.query;\r\n      if (row.id) {\r\n        this.details(row);\r\n      }\r\n      this.getTableData();\r\n    },\r\n    getTableData() {\r\n      let form = Object.assign({}, this.tableConfig.queryObj.queryData);\r\n      form.pageCount = form.pageSize;\r\n      //日期处理\r\n      let { billDate } = form;\r\n      if (billDate) {\r\n        let [beginDate, endDate] = billDate;\r\n        form.beginDate = beginDate;\r\n        form.endDate = endDate;\r\n      }\r\n      delete form.billDate;\r\n      delete form.pageSize;\r\n      // for (const key in form) {//处理空的搜索条件\r\n      //   if (form[key] === \"\") {\r\n      //     delete form[key];\r\n      //   }\r\n      // }\r\n      // console.log(form);\r\n      getWorkflowList(form)\r\n        .then(res => {\r\n          // console.log(res);\r\n          this.$set(\r\n            this.tableConfig.tableDataObj,\r\n            \"tableArr\",\r\n            res.data || []\r\n          );\r\n          this.$set(\r\n            this.tableConfig.tableDataObj,\r\n            \"total\",\r\n            res.total || 0\r\n          );\r\n        })\r\n        .catch(res => {\r\n          this.$set(this.tableConfig.tableDataObj, \"tableArr\", []);\r\n          this.$set(this.tableConfig.tableDataObj, \"total\", 0);\r\n        });\r\n    },\r\n    //详情\r\n    details(row) {\r\n      let { billId: id } = row;\r\n      this.formData = Object.assign({}, { id }, row);\r\n      // console.log(this.formData);\r\n      this.pageType = \"details\";\r\n    },\r\n    //返回\r\n    goBackPage(data) {\r\n      this.$router.push({ query: {} });\r\n      this.pageType = \"list\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./flowList.vue?vue&type=template&id=19bb6990&\"\nimport script from \"./flowList.vue?vue&type=script&lang=js&\"\nexport * from \"./flowList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from '@/request/api'\r\n/**===========基本信息接口 */\r\n\r\n// 获取软件申请\r\nexport function getListApi(data = {}) {\r\n    return request({\r\n        url: '/workorder/OfficeappAction/queryList.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n// 获取可申请软件列表\r\nexport function getAllowListApi(data = {}) {\r\n    return request({\r\n        url: '/workorder/OfficeappAction/queryRegist.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\n//详情\r\nexport function getDetailsApi(id = \"\") {\r\n    return request({\r\n        url: '/workorder/OfficeappAction/detail.htm',\r\n        method: 'post',\r\n        params:{ id: id }\r\n    })\r\n}\r\n//删除\r\nexport function deleteApi(id = \"\") {\r\n    return request({\r\n        url: '/workorder/OfficeappAction/delete.htm',\r\n        method: 'post',\r\n        params: { id: id }\r\n    })\r\n}\r\n//提交流程\r\nexport function addApi(data = {}) {\r\n    return request({\r\n        url: '/workorder/OfficeappAction/addOfficeapp.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n//保存草稿\r\nexport function updateApi(data = {}) {\r\n    return request({\r\n        url: '/workorder/OfficeappAction/updateOfficeapp.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}","import request from '@/request/api'\r\n/**===========基本信息接口 */\r\n\r\n// 数据接入申请-获取列表\r\nexport function getListApi(data = {}) {\r\n    return request({\r\n        url: '/workorder/DataccessappAction/queryList.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\n\r\n//数据接入申请-详情\r\nexport function getDetailsApi(id = \"\") {\r\n    return request({\r\n        url: '/workorder/DataccessappAction/detail.htm',\r\n        method: 'post',\r\n        params:{ id: id }\r\n    })\r\n}\r\n\r\n\r\n// 删除操作\r\nexport function deleteDataaccess(id = \"\") {\r\n    return request({\r\n        url: '/workorder/DataccessappAction/delete.htm',\r\n        method: 'post',\r\n        params: { id: id }\r\n    })\r\n}\r\n\r\n//数据接入申请-添加\r\nexport function addDataaccess(data = {}) {\r\n    return request({\r\n        url: '/workorder/DataccessappAction/addDataccessapp.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\n//数据接入申请-审核前保存表单（保存草稿）\r\nexport function updateDataccess(data = {}) {\r\n    return request({\r\n        url: '/workorder/DataccessappAction/updateDataccessapp.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\n//数据接入申请-审核结束后评分\r\nexport function getPlayScore(data = {}) {\r\n    return request({\r\n        url: '/workorder/DataccessappAction/playScore.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"record__content\"},[_c('div',{staticClass:\"record__baseinfo\"},[_c('dividerTitle',{attrs:{\"title\":'基本信息'}}),_c('editForm',{ref:\"editForm\",attrs:{\"formConfig\":_vm.formConfig,\"formData\":_vm.editFormData}})],1),(_vm.editFormData.status && _vm.editFormData.status == 1)?_c('div',{staticClass:\"process_score\"},[_c('dividerTitle',{attrs:{\"title\":'评分'}}),(_vm.showScore)?_c('processScore',{attrs:{\"scoreSetting\":_vm.scoreSetting,\"hideBtn\":_vm.scoreHideBtn,\"showScore\":_vm.showScore},on:{\"update:showScore\":function($event){_vm.showScore=$event},\"update:show-score\":function($event){_vm.showScore=$event}}}):_vm._e()],1):_vm._e(),_c('div',{staticClass:\"record__attach\"},[_c('dividerTitle',{attrs:{\"title\":'附件'}}),_c('attachTable',{ref:\"attachFile\",attrs:{\"attachSetting\":_vm.attachSetting,\"hideBtn\":_vm.hideBtn}})],1),(\n      _vm.pageType == 'details' &&\n      _vm.editFormData.status &&\n      _vm.editFormData.status !== 2\n    )?_c('div',{staticClass:\"record__workflow\"},[_c('dividerTitle',{attrs:{\"title\":'工作流'}}),_c('workFlow',{attrs:{\"currentFlowData\":_vm.editFormData,\"beforeSubmit\":_vm.beforeSubmit,\"otherParams\":_vm.workFlowParams},on:{\"submitSuccess\":_vm.workFlowSuccess}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"record__content\">\r\n    <div class=\"record__baseinfo\">\r\n      <dividerTitle :title=\"'基本信息'\"></dividerTitle>\r\n      <editForm\r\n        :formConfig=\"formConfig\"\r\n        ref=\"editForm\"\r\n        :formData=\"editFormData\"\r\n      >\r\n      </editForm>\r\n    </div>\r\n    <div\r\n      class=\"process_score\"\r\n      v-if=\"editFormData.status && editFormData.status == 1\"\r\n    >\r\n      <dividerTitle :title=\"'评分'\"></dividerTitle>\r\n      <processScore\r\n        v-if=\"showScore\"\r\n        :scoreSetting=\"scoreSetting\"\r\n        :hideBtn=\"scoreHideBtn\"\r\n        :showScore.sync=\"showScore\"\r\n      ></processScore>\r\n    </div>\r\n    <div class=\"record__attach\">\r\n      <dividerTitle :title=\"'附件'\"></dividerTitle>\r\n      <attachTable\r\n        :attachSetting=\"attachSetting\"\r\n        :hideBtn=\"hideBtn\"\r\n        ref=\"attachFile\"\r\n      ></attachTable>\r\n    </div>\r\n\r\n    <div\r\n      class=\"record__workflow\"\r\n      v-if=\"\r\n        pageType == 'details' &&\r\n        editFormData.status &&\r\n        editFormData.status !== 2\r\n      \"\r\n    >\r\n      <dividerTitle :title=\"'工作流'\"></dividerTitle>\r\n      <workFlow\r\n        :currentFlowData=\"editFormData\"\r\n        :beforeSubmit=\"beforeSubmit\"\r\n        :otherParams=\"workFlowParams\"\r\n        @submitSuccess=\"workFlowSuccess\"\r\n      ></workFlow>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getDetailsApi, //获取详情\r\n  updateDataccess\r\n} from \"@/api/itService/dataAccessApply\";\r\nexport default {\r\n  props: {\r\n    formData: {\r\n      type: Object,\r\n      default: new Object(),\r\n    },\r\n    pageType: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    defaultSet: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      hadSeleteData: [],\r\n      editFormData: { suitableWorkArr: [] },\r\n      trainingType: {},\r\n      formConfig: {\r\n        itemArr: [\r\n          {\r\n            label: \"申请日期\",\r\n            prop: \"billDate\",\r\n            type: \"date\",\r\n            // required: true,\r\n            span: 8,\r\n          },\r\n          {\r\n            label: \"申请人\",\r\n            prop: \"staffunName\",\r\n            idsStr: \"employeeId\",\r\n            type: \"user\",\r\n            trigger: \"change\",\r\n            // required: true,\r\n            methods: (obj) => {\r\n              let { orgNodeName, orgNodeCode, mobile } = obj[0];\r\n              this.$refs.editForm.setFormItem(\"depatName\", orgNodeName);\r\n              this.$refs.editForm.setFormItem(\"depatCode\", orgNodeCode);\r\n              this.$refs.editForm.setFormItem(\"phone\", mobile);\r\n            },\r\n          },\r\n          {\r\n            label: \"申请部门\",\r\n            prop: \"depatName\",\r\n            id: \"depatCode\",\r\n            placeholder: \"选择申请人后自动带出\",\r\n            // required: true,\r\n            type: \"text\",\r\n          },\r\n          {\r\n            label: \"联系号码\",\r\n            prop: \"phone\",\r\n            // required: true,\r\n            type: \"text\",\r\n            placeholder: \"选择申请人后自动带出\",\r\n            rules: {\r\n              validator: function (rule, value, callback) {\r\n                const reg = /^1[3|4|5|6|7|8|9]\\d{9}$/;\r\n                if (!value) {\r\n                  // return callback(new Error(\"请填写手机号码！\"));\r\n                } else if (!reg.test(value)) {\r\n                  return callback(new Error(\"请填写正确的手机号码！\"));\r\n                } else {\r\n                  callback();\r\n                }\r\n              },\r\n              trigger: \"change\",\r\n            },\r\n          }, //申请类型\r\n          {\r\n            type: \"select\",\r\n            label: \"数据接入类型\", \r\n            prop: \"apptype\",\r\n            // id: \"apptype\",\r\n            // required: true,\r\n            seleteOption: this.$store.getters[\"dirtData\"](\"access_type\"),\r\n            formatter: (val) => {\r\n              return this.$store.getters[\"fineDirtDataName\"](\r\n                \"access_type\",\r\n                val\r\n              );\r\n            },\r\n          },\r\n          // {\r\n          //   type: \"select\",\r\n          //   label: \"业务类型\", //acc_type\r\n          //   prop: \"apptype\",\r\n          //   // id: \"apptype\",\r\n          //   required: true,\r\n          //   seleteOption: this.$store.getters[\"dirtData\"](\"acc_type\"),\r\n          //   formatter: (val) => {\r\n          //     return this.$store.getters[\"fineDirtDataName\"](\"acc_type\", val);\r\n          //   },\r\n          // },\r\n          {\r\n            label: \"审批人\",\r\n            prop: \"confirmManName\",\r\n            idsStr: \"confirmMan\",\r\n            type: \"user\",\r\n            isHide: this.pageType == \"details\" && !this.isWorkFlowEdit,\r\n            // required: true,\r\n            trigger: \"change\",\r\n          },\r\n          {\r\n            label: \"申请描述\",\r\n            prop: \"appContent\",\r\n            type: \"textarea\",\r\n            span: 24,\r\n            rows: 4,\r\n          },\r\n          {\r\n            label: \"备注\",\r\n            prop: \"remark\",\r\n            type: \"textarea\",\r\n            span: 24,\r\n            rows: 4,\r\n          },\r\n        ],\r\n      },\r\n      procInstType:null,\r\n      //附件设置\r\n      attachSetting: {\r\n        title: \"\",\r\n        select: false,\r\n        billType: this.procInstType, //页面标识\r\n        sourceId: \"\", //单据的ID\r\n        btnArr: [\"add\", \"delete\", \"save\"],\r\n      },\r\n      //评分设置\r\n      scoreSetting: {\r\n        title: \"\",\r\n        billType: \"asset_regist\", //页面标识\r\n        sourceId: \"\", //单据的ID\r\n        data: [],\r\n        btnArr: [\"save\"],\r\n      },\r\n      scoreHideBtn: false,\r\n      coverList: [],\r\n      dialogVisible: false,\r\n      activeName: \"0\",\r\n      hideBtn: false,\r\n      showScore: false,\r\n      beforeSubmit: {\r\n        //工作流提交前检测\r\n        methods: (data) => {\r\n          return this.submitBefore(data);\r\n        },\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    //工作流额外参数\r\n    workFlowParams() {\r\n      let { procInstType } = this.editFormData;\r\n      if (this.formData.status === 4 && this.formData.workflowIsApprover) {\r\n        return {\r\n          procInstType: procInstType || \"\",\r\n          assignercodes: [this.editFormData.confirmMan],\r\n        };\r\n      }\r\n      return { procInstType: procInstType || \"\" };\r\n    },\r\n    //是否是流程中可编辑\r\n    isWorkFlowEdit() {\r\n      if (this.formData.status === 4 && this.formData.workflowIsApprover) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      //row.status\r\n      if (this.pageType == \"add\") {\r\n        let defaultForm = {};\r\n        if (this.defaultSet) {\r\n          defaultForm = { ...this.formData };\r\n        }\r\n        this.editFormData = Object.assign({}, defaultForm, {\r\n          billDate: this.$utils.getNowDay(),\r\n        });\r\n      } else {\r\n        this.getDetails(this.formData.id);\r\n      }\r\n      if (this.pageType == \"details\") {\r\n        if (!this.isWorkFlowEdit) {\r\n          this.formConfig.itemArr.map((i) => (i.disabled = true));\r\n        }\r\n        this.attachSetting.sourceId = this.formData.id; //附件id\r\n      }\r\n      if (this.pageType == \"score\") {\r\n        //评分\r\n        this.scoreSetting.sourceId = this.formData.id;\r\n        this.formConfig.itemArr.map((i) => (i.disabled = true));\r\n        this.showScore = true; //显示评分\r\n      }\r\n    },\r\n\r\n    //获取详情\r\n    async getDetails(id) {\r\n      let res = await getDetailsApi(id);\r\n      let obj = res.data || {};\r\n      this.procInstType = obj.procInstType;//附件页面标识\r\n      this.attachSetting.sourceId = obj.id;//附件对应的流程ID，新建流程保存后即可添加附件\r\n      this.editFormData = Object.assign({}, obj, {\r\n        confirmMan: obj.empId,\r\n        confirmManName: obj.zystaffunName,\r\n      });\r\n    },\r\n    //提交前检测\r\n    submitBefore(data) {\r\n      //如果是起草节点\r\n      if (this.isWorkFlowEdit) {\r\n        return new Promise((resolve, reject) => {\r\n          this.$refs.editForm\r\n            .getFormData()\r\n            .then((data) => {\r\n              this.$set(data, \"submitType\", 1);\r\n              // console.log(data);\r\n              this.editFormData = Object.assign({}, data);\r\n              \r\n              updateDataccess(data)\r\n                .then((res) => {\r\n                  resolve();\r\n                })\r\n                .catch((e) => {\r\n                  reject(e);\r\n                });\r\n            })\r\n            .catch((e) => {\r\n              console.log(e)\r\n              reject(\"表单信息未填写完整\");\r\n            });\r\n        });\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n    //工作流提交成功之后\r\n    workFlowSuccess() {\r\n      this.$emit(\"update:pageType\", \"list\");\r\n    },\r\n    //获取表单数据\r\n    getFormData() {\r\n      return this.$refs.editForm.getFormData();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=563c9b1c&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"563c9b1c\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/request/api'\r\n/**===========基本信息接口 */\r\n\r\n// 获取列表\r\nexport function getListApi(data = {}) {\r\n    return request({\r\n        url: '/workorder/DemandappAction/queryList.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\n//详情\r\nexport function getDetailsApi(id = \"\") {\r\n    return request({\r\n        url: '/workorder/DemandappAction/detail.htm',\r\n        method: 'post',\r\n        params:{ id: id }\r\n    })\r\n}\r\n\r\n// 删除\r\nexport function deleteDemandapp(id = \"\") {\r\n    return request({\r\n        url: '/workorder/DemandappAction/delete.htm',\r\n        method: 'post',\r\n        params: { id: id }\r\n    })\r\n}\r\n\r\n//新建页面\r\nexport function addDemandapp(data = {}) {\r\n    return request({\r\n        url: '/workorder/DemandappAction/addDemandapp.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\n//审核前保存表单（保存草稿）\r\nexport function updateDemandapp(data = {}) {\r\n    return request({\r\n        url: '/workorder/DemandappAction/updateDemandapp.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\n\r\n\r\n// //保障报修-审核结束后评分\r\n// export function getPlayScore(data = {}) {\r\n//     return request({\r\n//         url: '/workorder/DataccessappAction/playScore.htm',\r\n//         method: 'post',\r\n//         data: data\r\n//     })\r\n// }","import request from '@/request/api'\r\n/**===========基本信息接口 */\r\n\r\n// 获取列表\r\nexport function getListApi(data = {}) {\r\n    return request({\r\n        url: '/workorder/RepairappAction/queryList.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\n//详情\r\nexport function getDetailsApi(id = \"\") {\r\n    return request({\r\n        url: '/workorder/RepairappAction/detail.htm',\r\n        method: 'post',\r\n        params:{ id: id }\r\n    })\r\n}\r\n\r\n// 删除\r\nexport function deleteRepairapp(id = \"\") {\r\n    return request({\r\n        url: '/workorder/RepairappAction/delete.htm',\r\n        method: 'post',\r\n        params: { id: id }\r\n    })\r\n}\r\n\r\n//新建页面\r\nexport function addRepairapp(data = {}) {\r\n    return request({\r\n        url: '/workorder/RepairappAction/addRepairapp.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\n//保障报修申请-审核前保存表单（保存草稿）\r\nexport function updateRepairapp(data = {}) {\r\n    return request({\r\n        url: '/workorder/RepairappAction/updateRepairapp.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\n// //保障报修-审核结束后评分\r\n// export function getPlayScore(data = {}) {\r\n//     return request({\r\n//         url: '/workorder/DataccessappAction/playScore.htm',\r\n//         method: 'post',\r\n//         data: data\r\n//     })\r\n// }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"record__content\"},[_c('div',{staticClass:\"record__baseinfo\"},[_c('dividerTitle',{attrs:{\"title\":'基本信息'}}),_c('editForm',{ref:\"editForm\",attrs:{\"formConfig\":_vm.formConfig,\"formData\":_vm.editFormData}})],1),(_vm.editFormData.status &&\n        _vm.editFormData.status == 1)?_c('div',{staticClass:\"process_score\"},[_c('dividerTitle',{attrs:{\"title\":'评分'}}),(_vm.showScore)?_c('processScore',{attrs:{\"scoreSetting\":_vm.scoreSetting,\"hideBtn\":_vm.scoreHideBtn,\"showScore\":_vm.showScore},on:{\"update:showScore\":function($event){_vm.showScore=$event},\"update:show-score\":function($event){_vm.showScore=$event}}}):_vm._e()],1):_vm._e(),_c('div',{staticClass:\"record__attach\"},[_c('dividerTitle',{attrs:{\"title\":'附件'}}),_c('attachTable',{ref:\"attachFile\",attrs:{\"attachSetting\":_vm.attachSetting,\"hideBtn\":_vm.hideBtn}})],1),(_vm.pageType == 'details' &&\n        _vm.editFormData.status &&\n        _vm.editFormData.status !== 2)?_c('div',{staticClass:\"record__workflow\"},[_c('dividerTitle',{attrs:{\"title\":'工作流'}}),_c('workFlow',{attrs:{\"currentFlowData\":_vm.editFormData,\"beforeSubmit\":_vm.beforeSubmit,\"otherParams\":_vm.workFlowParams},on:{\"submitSuccess\":_vm.workFlowSuccess}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"record__content\">\r\n    <div class=\"record__baseinfo\">\r\n      <dividerTitle :title=\"'基本信息'\"></dividerTitle>\r\n      <editForm\r\n        :formConfig=\"formConfig\"\r\n        ref=\"editForm\"\r\n        :formData=\"editFormData\"\r\n      >\r\n      </editForm>\r\n    </div>\r\n    <div class=\"process_score\" v-if=\"editFormData.status &&\r\n          editFormData.status == 1\">\r\n      <dividerTitle :title=\"'评分'\"></dividerTitle>\r\n      <processScore\r\n        v-if=\"showScore\"\r\n        :scoreSetting=\"scoreSetting\"\r\n        :hideBtn=\"scoreHideBtn\"\r\n        :showScore.sync=\"showScore\"\r\n      ></processScore>\r\n    </div>\r\n    <div class=\"record__attach\">\r\n      <dividerTitle :title=\"'附件'\"></dividerTitle>\r\n      <attachTable\r\n        :attachSetting=\"attachSetting\"\r\n        :hideBtn=\"hideBtn\"\r\n        ref=\"attachFile\"\r\n      ></attachTable>\r\n    </div>\r\n\r\n    <div class=\"record__workflow\"\r\n      v-if=\"pageType == 'details' &&\r\n          editFormData.status &&\r\n          editFormData.status !== 2\">\r\n      <dividerTitle :title=\"'工作流'\"></dividerTitle>\r\n      <workFlow\r\n        :currentFlowData=\"editFormData\"\r\n        :beforeSubmit=\"beforeSubmit\"\r\n        :otherParams=\"workFlowParams\"\r\n        @submitSuccess=\"workFlowSuccess\"\r\n      ></workFlow>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getDetailsApi, //获取详情\r\n  updateApi\r\n} from \"@/api/itService/usersApply\";\r\nexport default {\r\n  props: {\r\n    formData: {\r\n      type: Object,\r\n      default: new Object()\r\n    },\r\n    pageType: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    defaultSet: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      \r\n      hadSeleteData:[],\r\n      editFormData: { suitableWorkArr: [] },\r\n      trainingType: {},\r\n      formConfig: {\r\n        itemArr: [\r\n          {\r\n            label: \"申请日期\",\r\n            prop: \"billDate\",\r\n            type: \"date\",\r\n            // required: true,\r\n            span: 8\r\n          },\r\n          {\r\n            label: \"申请人\",\r\n            prop: \"staffunName\",\r\n            idsStr: \"employeeId\",\r\n            type: \"user\",\r\n            trigger: \"change\",\r\n            // required: true,\r\n            methods: obj => {\r\n              let { orgNodeName, orgNodeCode, mobile } = obj[0];\r\n              this.$refs.editForm.setFormItem(\"depatName\", orgNodeName);\r\n              this.$refs.editForm.setFormItem(\"depatCode\", orgNodeCode);\r\n              this.$refs.editForm.setFormItem(\"phone\", mobile);\r\n            }\r\n          },\r\n          {\r\n            label: \"申请部门\",\r\n            prop: \"depatName\",\r\n            id: \"depatCode\",\r\n            placeholder: \"选择申请人后自动带出\",\r\n            // required: true,\r\n            type: \"text\"\r\n          },\r\n          {\r\n            label: \"联系号码\",\r\n            prop: \"phone\",\r\n            // required: true,\r\n            type: \"text\",\r\n            placeholder: \"选择申请人后自动带出\",\r\n            rules: {\r\n              validator: function(rule, value, callback) {\r\n                const reg = /^[0-9]*$/;\r\n                if (!value) {\r\n                  // return callback(new Error(\"请填写手机号码！\"));\r\n                } else if (!reg.test(value)) {\r\n                  return callback(new Error(\"请填写正确的手机号码！\"));\r\n                } else {\r\n                  callback();\r\n                }\r\n              },\r\n              trigger: \"change\"\r\n            }\r\n          }, //申请类型\r\n          {\r\n            type: \"select\",\r\n            label: \"申请类型\", //acc_type\r\n            prop: \"apptype\",\r\n            // id: \"apptype\",\r\n            // required: true,\r\n            seleteOption: this.$store.getters[\"dirtData\"](\"acc_type\"),\r\n            formatter: val => {\r\n              return this.$store.getters[\"fineDirtDataName\"](\"acc_type\", val);\r\n            }\r\n          },\r\n          {\r\n            type: \"select\",\r\n            label: \"业务类型\",\r\n            prop: \"appsysName\",\r\n            id: \"appsysId\",//msg_type\r\n            // required: true,\r\n            seleteOption: this.$store.getters[\"dirtData\"](\"msg_type\"),\r\n            formatter: val => {\r\n              return this.$store.getters[\"fineDirtDataName\"](\"msg_type\", val);\r\n            }\r\n          },\r\n          {\r\n            label: \"审批人\",\r\n            prop: \"confirmManName\",\r\n            idsStr: \"confirmMan\",\r\n            type: \"user\",\r\n            isHide: this.pageType == \"details\" && !this.isWorkFlowEdit,\r\n            // required: true,\r\n            trigger: \"change\"\r\n          },\r\n          {\r\n            label: \"申请描述\",\r\n            prop: \"appContent\",\r\n            type: \"textarea\",\r\n            span: 24,\r\n            rows: 4\r\n          },\r\n          {\r\n            label: \"备注\",\r\n            prop: \"remark\",\r\n            type: \"textarea\",\r\n            span: 24,\r\n            rows: 4\r\n          }\r\n        ]\r\n      },\r\n      procInstType:null,\r\n      //附件设置\r\n      attachSetting: {\r\n        title: \"\",\r\n        select: false,\r\n        billType: this.procInstType, //页面标识\r\n        sourceId: \"\", //单据的ID\r\n        btnArr: [\"add\", \"delete\", \"save\"]\r\n      },\r\n      //评分设置\r\n      scoreSetting: {\r\n        title: \"\",\r\n        billType: \"asset_regist\", //页面标识\r\n        sourceId: \"\", //单据的ID\r\n        data:[],\r\n        btnArr: [\"save\"]\r\n      },\r\n      scoreHideBtn:false,\r\n      coverList: [],\r\n      dialogVisible: false,\r\n      activeName: \"0\",\r\n      hideBtn: false,\r\n      showScore: false,\r\n      beforeSubmit: {\r\n        //工作流提交前检测\r\n        methods: data => {\r\n          return this.submitBefore(data);\r\n        }\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    //工作流额外参数\r\n    workFlowParams() {\r\n      let { procInstType } = this.editFormData;\r\n      if (this.formData.status === 4 && this.formData.workflowIsApprover) {\r\n        return {\r\n          procInstType: procInstType || \"\",\r\n          assignercodes: [this.editFormData.confirmMan]\r\n        };\r\n      }\r\n      return { procInstType: procInstType || \"\" };\r\n    },\r\n    //是否是流程中可编辑\r\n    isWorkFlowEdit() {\r\n      if (this.formData.status === 4 && this.formData.workflowIsApprover) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      //row.status\r\n      if (this.pageType == \"add\") {\r\n        let defaultForm = {};\r\n        if (this.defaultSet) {\r\n          defaultForm = { ...this.formData };\r\n        }\r\n        this.editFormData = Object.assign({}, defaultForm, {\r\n          billDate: this.$utils.getNowDay()\r\n        });\r\n      } else {\r\n        this.getDetails(this.formData.id);\r\n      }\r\n      if (this.pageType == \"details\") {\r\n        if (!this.isWorkFlowEdit) {\r\n          this.formConfig.itemArr.map(i => (i.disabled = true));\r\n        }\r\n        this.attachSetting.sourceId = this.formData.id; //附件id \r\n\r\n      }\r\n      if (this.pageType == \"score\") {//评分\r\n        this.scoreSetting.sourceId = this.formData.id; \r\n        this.formConfig.itemArr.map(i => (i.disabled = true));\r\n        this.showScore = true;//显示评分\r\n      }\r\n    },\r\n\r\n    //获取详情\r\n    async getDetails(id) {\r\n      let res = await getDetailsApi(id);\r\n      let obj = res.data || {};\r\n      this.procInstType = obj.procInstType;//附件页面标识\r\n      this.attachSetting.sourceId = obj.id;//附件对应的流程ID，新建流程保存后即可添加附件\r\n      this.editFormData = Object.assign({}, obj, {\r\n        confirmMan: obj.empId,\r\n        confirmManName: obj.zystaffunName\r\n      });\r\n    },\r\n        //提交前检测\r\n    submitBefore(data) {\r\n      //如果是起草节点\r\n      if (this.isWorkFlowEdit) {\r\n        return new Promise((resolve, reject) => {\r\n          this.$refs.editForm\r\n            .getFormData()\r\n            .then((data) => {\r\n              this.$set(data, \"submitType\", 1);\r\n              // console.log(data);\r\n              this.editFormData = Object.assign({}, data);\r\n              \r\n              updateApi(data)\r\n                .then((res) => {\r\n                  resolve();\r\n                })\r\n                .catch((e) => {\r\n                  reject(e);\r\n                });\r\n            })\r\n            .catch((e) => {\r\n              console.log(e)\r\n              reject(\"表单信息未填写完整\");\r\n            });\r\n        });\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n    //工作流提交成功之后\r\n    workFlowSuccess() {\r\n      this.$emit(\"update:pageType\", \"list\");\r\n    },\r\n    //获取表单数据\r\n    getFormData() {\r\n      return this.$refs.editForm.getFormData();\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=6245fea8&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6245fea8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"record__content\"},[_c('div',{staticClass:\"record__baseinfo\"},[_c('dividerTitle',{attrs:{\"title\":'基本信息'}}),_c('editForm',{ref:\"editForm\",attrs:{\"formConfig\":_vm.formConfig,\"formData\":_vm.editFormData}})],1),(_vm.editFormData.status && _vm.editFormData.status == 1)?_c('div',{staticClass:\"process_score\"},[_c('dividerTitle',{attrs:{\"title\":'评分'}}),(_vm.showScore)?_c('processScore',{attrs:{\"scoreSetting\":_vm.scoreSetting,\"hideBtn\":_vm.scoreHideBtn,\"showScore\":_vm.showScore},on:{\"update:showScore\":function($event){_vm.showScore=$event},\"update:show-score\":function($event){_vm.showScore=$event}}}):_vm._e()],1):_vm._e(),_c('div',{staticClass:\"record__attach\"},[_c('dividerTitle',{attrs:{\"title\":'附件'}}),_c('attachTable',{ref:\"attachFile\",attrs:{\"attachSetting\":_vm.attachSetting,\"hideBtn\":_vm.hideBtn}})],1),(\n      _vm.pageType == 'details' &&\n      _vm.editFormData.status &&\n      _vm.editFormData.status !== 2\n    )?_c('div',{staticClass:\"record__workflow\"},[_c('dividerTitle',{attrs:{\"title\":'工作流'}}),_c('workFlow',{attrs:{\"currentFlowData\":_vm.editFormData,\"beforeSubmit\":_vm.beforeSubmit,\"otherParams\":_vm.workFlowParams},on:{\"submitSuccess\":_vm.workFlowSuccess}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"record__content\">\r\n    <div class=\"record__baseinfo\">\r\n      <dividerTitle :title=\"'基本信息'\"></dividerTitle>\r\n      <editForm\r\n        :formConfig=\"formConfig\"\r\n        ref=\"editForm\"\r\n        :formData=\"editFormData\"\r\n      >\r\n      </editForm>\r\n    </div>\r\n    <div\r\n      class=\"process_score\"\r\n      v-if=\"editFormData.status && editFormData.status == 1\"\r\n    >\r\n      <dividerTitle :title=\"'评分'\"></dividerTitle>\r\n      <processScore\r\n        v-if=\"showScore\"\r\n        :scoreSetting=\"scoreSetting\"\r\n        :hideBtn=\"scoreHideBtn\"\r\n        :showScore.sync=\"showScore\"\r\n      ></processScore>\r\n    </div>\r\n    <div class=\"record__attach\">\r\n      <dividerTitle :title=\"'附件'\"></dividerTitle>\r\n      <attachTable\r\n        :attachSetting=\"attachSetting\"\r\n        :hideBtn=\"hideBtn\"\r\n        ref=\"attachFile\"\r\n      ></attachTable>\r\n    </div>\r\n\r\n    <div\r\n      class=\"record__workflow\"\r\n      v-if=\"\r\n        pageType == 'details' &&\r\n        editFormData.status &&\r\n        editFormData.status !== 2\r\n      \"\r\n    >\r\n      <dividerTitle :title=\"'工作流'\"></dividerTitle>\r\n      <workFlow\r\n        :currentFlowData=\"editFormData\"\r\n        :beforeSubmit=\"beforeSubmit\"\r\n        :otherParams=\"workFlowParams\"\r\n        @submitSuccess=\"workFlowSuccess\"\r\n      ></workFlow>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getDetailsApi, //获取详情\r\n  updateDemandapp\r\n} from \"@/api/itService/informationSystemsApply\";\r\n// import { queryAppSysList } from \"@/api/common\";\r\nexport default {\r\n  props: {\r\n    formData: {\r\n      type: Object,\r\n      default: new Object(),\r\n    },\r\n    pageType: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    defaultSet: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      hadSeleteData: [],\r\n      editFormData: { suitableWorkArr: [] },\r\n      trainingType: {},\r\n      formConfig: {\r\n        itemArr: [\r\n          {\r\n            label: \"申请日期\",\r\n            prop: \"billDate\",\r\n            type: \"date\",\r\n            // required: true,\r\n            span: 8,\r\n          },\r\n          {\r\n            label: \"申请人\",\r\n            prop: \"staffunName\",\r\n            idsStr: \"employeeId\",\r\n            type: \"user\",\r\n            trigger: \"change\",\r\n            // required: true,\r\n            methods: obj => {\r\n              let { orgNodeName, orgNodeCode, mobile } = obj[0];\r\n              this.$refs.editForm.setFormItem(\"depatName\", orgNodeName);\r\n              this.$refs.editForm.setFormItem(\"depatCode\", orgNodeCode);\r\n              this.$refs.editForm.setFormItem(\"phone\", mobile);\r\n            },\r\n          },\r\n          {\r\n            label: \"申请部门\",\r\n            prop: \"depatName\",\r\n            id: \"depatCode\",\r\n            placeholder: \"选择申请人后自动带出\",\r\n            // required: true,\r\n            type: \"text\",\r\n          },\r\n          {\r\n            label: \"联系号码\",\r\n            prop: \"phone\",\r\n            // required: true,\r\n            type: \"text\",\r\n            placeholder: \"选择申请人后自动带出\",\r\n            rules: {\r\n              validator: function(rule, value, callback) {\r\n                const reg = /^[0-9]*$/;\r\n                if (!value) {\r\n                  // return callback(new Error(\"请填写手机号码！\"));\r\n                } else if (!reg.test(value)) {\r\n                  return callback(new Error(\"请填写正确的手机号码！\"));\r\n                } else {\r\n                  callback();\r\n                }\r\n              },\r\n              trigger: \"change\"\r\n            }\r\n          },\r\n           {\r\n            type: \"select\",\r\n            label: \"应用系统名称\",\r\n            prop: \"appsysName\",\r\n            id: \"appsysId\",\r\n            // required: true,\r\n            seleteOption: this.$store.getters.systemType,\r\n            methods: obj => {\r\n              // console.log(obj);\r\n              this.$refs.editForm.setFormItem(\"appsysId\", obj.value);\r\n              this.$refs.editForm.setFormItem(\"appsysName\", obj.name);\r\n            }\r\n          }, \r\n          {\r\n            label: \"审批人\",\r\n            prop: \"confirmManName\",\r\n            idsStr: \"confirmMan\",\r\n            type: \"user\",\r\n            isHide: this.pageType == \"details\" && !this.isWorkFlowEdit,\r\n            // required: true,\r\n            trigger: \"change\",\r\n          },\r\n          {\r\n            label: \"申请描述\",\r\n            prop: \"appContent\",\r\n            type: \"textarea\",\r\n            span: 24,\r\n            rows: 4,\r\n          },\r\n          {\r\n            label: \"备注\",\r\n            prop: \"remark\",\r\n            type: \"textarea\",\r\n            span: 24,\r\n            rows: 4,\r\n          },\r\n        ],\r\n      },\r\n      procInstType:null,\r\n      //附件设置\r\n      attachSetting: {\r\n        title: \"\",\r\n        select: false,\r\n        billType: this.procInstType, //页面标识\r\n        sourceId: \"\", //单据的ID\r\n        btnArr: [\"add\", \"delete\", \"save\"],\r\n      },\r\n      //评分设置\r\n      scoreSetting: {\r\n        title: \"\",\r\n        billType: \"asset_regist\", //页面标识\r\n        sourceId: \"\", //单据的ID\r\n        data: [],\r\n        btnArr: [\"save\"],\r\n      },\r\n      scoreHideBtn: false,\r\n      coverList: [],\r\n      dialogVisible: false,\r\n      activeName: \"0\",\r\n      hideBtn: false,\r\n      showScore: false,\r\n      beforeSubmit: {\r\n        //工作流提交前检测\r\n        methods: data => {\r\n          return this.submitBefore(data);\r\n        },\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    //工作流额外参数\r\n    workFlowParams() {\r\n      let { procInstType } = this.editFormData;\r\n      if (this.formData.status === 4 && this.formData.workflowIsApprover) {\r\n        return {\r\n          procInstType: procInstType || \"\",\r\n          assignercodes: [this.editFormData.confirmMan],\r\n        };\r\n      }\r\n      return { procInstType: procInstType || \"\" };\r\n    },\r\n    //是否是流程中可编辑\r\n    isWorkFlowEdit() {\r\n      if (this.formData.status === 4 && this.formData.workflowIsApprover) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      //row.status\r\n      if (this.pageType == \"add\") {\r\n        let defaultForm = {};\r\n        if (this.defaultSet) {\r\n          defaultForm = { ...this.formData };\r\n        }\r\n        this.editFormData = Object.assign({}, defaultForm, {\r\n          billDate: this.$utils.getNowDay(),\r\n        });\r\n      } else {\r\n        this.getDetails(this.formData.id);\r\n      }\r\n      if (this.pageType == \"details\") {\r\n        if (!this.isWorkFlowEdit) {\r\n          this.formConfig.itemArr.map(i => (i.disabled = true));\r\n        }\r\n        this.attachSetting.sourceId = this.formData.id; //附件id\r\n      }\r\n      if (this.pageType == \"score\") {\r\n        //评分\r\n        this.scoreSetting.sourceId = this.formData.id;\r\n        this.formConfig.itemArr.map((i) => (i.disabled = true));\r\n        this.showScore = true; //显示评分\r\n      }\r\n    },\r\n    //获取详情\r\n    async getDetails(id) {\r\n      let res = await getDetailsApi(id);\r\n      let obj = res.data || {};\r\n      this.procInstType = obj.procInstType;//附件页面标识\r\n      this.attachSetting.sourceId = obj.id;//附件对应的流程ID，新建流程保存后即可添加附件\r\n      this.editFormData = Object.assign({}, obj, {\r\n        confirmMan: obj.empId,\r\n        confirmManName: obj.zystaffunName,\r\n      });\r\n    },\r\n            //提交前检测\r\n    submitBefore(data) {\r\n      //如果是起草节点\r\n      if (this.isWorkFlowEdit) {\r\n        return new Promise((resolve, reject) => {\r\n          this.$refs.editForm\r\n            .getFormData()\r\n            .then((data) => {\r\n              this.$set(data, \"submitType\", 1);\r\n              // console.log(data);\r\n              this.editFormData = Object.assign({}, data);\r\n              \r\n              updateDemandapp(data)\r\n                .then((res) => {\r\n                  resolve();\r\n                })\r\n                .catch((e) => {\r\n                  reject(e);\r\n                });\r\n            })\r\n            .catch((e) => {\r\n              console.log(e)\r\n              reject(\"表单信息未填写完整\");\r\n            });\r\n        });\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n    //工作流提交成功之后\r\n    workFlowSuccess() {\r\n      this.$emit(\"update:pageType\", \"list\");\r\n    },\r\n    //获取表单数据\r\n    getFormData() {\r\n      return this.$refs.editForm.getFormData();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=e1ee8abc&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e1ee8abc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"record__content\"},[_c('div',{staticClass:\"record__baseinfo\"},[_c('dividerTitle',{attrs:{\"title\":'基本信息'}}),_c('editForm',{ref:\"editForm\",attrs:{\"formConfig\":_vm.formConfig,\"formData\":_vm.editFormData}})],1),(_vm.editFormData.status && _vm.editFormData.status == 1)?_c('div',{staticClass:\"process_score\"},[_c('dividerTitle',{attrs:{\"title\":'评分'}}),(_vm.showScore)?_c('processScore',{attrs:{\"scoreSetting\":_vm.scoreSetting,\"hideBtn\":_vm.scoreHideBtn,\"showScore\":_vm.showScore},on:{\"update:showScore\":function($event){_vm.showScore=$event},\"update:show-score\":function($event){_vm.showScore=$event}}}):_vm._e()],1):_vm._e(),_c('div',{staticClass:\"record__attach\"},[_c('dividerTitle',{attrs:{\"title\":'附件'}}),_c('attachTable',{ref:\"attachFile\",attrs:{\"attachSetting\":_vm.attachSetting,\"hideBtn\":_vm.hideBtn}})],1),(\n      _vm.pageType == 'details' &&\n      _vm.editFormData.status &&\n      _vm.editFormData.status !== 2\n    )?_c('div',{staticClass:\"record__workflow\"},[_c('dividerTitle',{attrs:{\"title\":'工作流'}}),_c('workFlow',{attrs:{\"currentFlowData\":_vm.editFormData,\"beforeSubmit\":_vm.beforeSubmit,\"otherParams\":_vm.workFlowParams},on:{\"submitSuccess\":_vm.workFlowSuccess}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"record__content\">\r\n    <div class=\"record__baseinfo\">\r\n      <dividerTitle :title=\"'基本信息'\"></dividerTitle>\r\n      <editForm\r\n        :formConfig=\"formConfig\"\r\n        ref=\"editForm\"\r\n        :formData=\"editFormData\"\r\n      >\r\n      </editForm>\r\n    </div>\r\n    <div\r\n      class=\"process_score\"\r\n      v-if=\"editFormData.status && editFormData.status == 1\"\r\n    >\r\n      <dividerTitle :title=\"'评分'\"></dividerTitle>\r\n      <processScore\r\n        v-if=\"showScore\"\r\n        :scoreSetting=\"scoreSetting\"\r\n        :hideBtn=\"scoreHideBtn\"\r\n        :showScore.sync=\"showScore\"\r\n      ></processScore>\r\n    </div>\r\n    <div class=\"record__attach\">\r\n      <dividerTitle :title=\"'附件'\"></dividerTitle>\r\n      <attachTable\r\n        :attachSetting=\"attachSetting\"\r\n        :hideBtn=\"hideBtn\"\r\n        ref=\"attachFile\"\r\n      ></attachTable>\r\n    </div>\r\n\r\n    <div\r\n      class=\"record__workflow\"\r\n      v-if=\"\r\n        pageType == 'details' &&\r\n        editFormData.status &&\r\n        editFormData.status !== 2\r\n      \"\r\n    >\r\n      <dividerTitle :title=\"'工作流'\"></dividerTitle>\r\n      <workFlow\r\n        :currentFlowData=\"editFormData\"\r\n        :beforeSubmit=\"beforeSubmit\"\r\n        :otherParams=\"workFlowParams\"\r\n        @submitSuccess=\"workFlowSuccess\"\r\n      ></workFlow>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getDetailsApi, //获取详情\r\n  updateRepairapp\r\n} from \"@/api/itService/repairApply\";\r\nexport default {\r\n  props: {\r\n    formData: {\r\n      type: Object,\r\n      default: new Object(),\r\n    },\r\n    pageType: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    defaultSet: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      hadSeleteData: [],\r\n      editFormData: { suitableWorkArr: [] },\r\n      trainingType: {},\r\n      formConfig: {\r\n        itemArr: [\r\n          {\r\n            label: \"申请日期\",\r\n            prop: \"billDate\",\r\n            type: \"date\",\r\n            // required: true,\r\n            span: 8,\r\n          },\r\n          {\r\n            label: \"申请人\",\r\n            prop: \"staffunName\",\r\n            idsStr: \"employeeId\",\r\n            type: \"user\",\r\n            trigger: \"change\",\r\n            // required: true,\r\n            methods: (obj) => {\r\n              let { orgNodeName, orgNodeCode, mobile } = obj[0];\r\n              this.$refs.editForm.setFormItem(\"depatName\", orgNodeName);\r\n              this.$refs.editForm.setFormItem(\"depatCode\", orgNodeCode);\r\n              this.$refs.editForm.setFormItem(\"phone\", mobile);\r\n            },\r\n          },\r\n          {\r\n            label: \"申请部门\",\r\n            prop: \"depatName\",\r\n            id: \"depatCode\",\r\n            placeholder: \"选择申请人后自动带出\",\r\n            // required: true,\r\n            type: \"text\",\r\n          },\r\n          {\r\n            label: \"联系号码\",\r\n            prop: \"phone\",\r\n            // required: true,\r\n            type: \"text\",\r\n            placeholder: \"选择申请人后自动带出\",\r\n            rules: {\r\n              validator: function(rule, value, callback) {\r\n                const reg = /^[0-9]*$/;\r\n                if (!value) {\r\n                  // return callback(new Error(\"请填写手机号码！\"));\r\n                } else if (!reg.test(value)) {\r\n                  return callback(new Error(\"请填写正确的手机号码！\"));\r\n                } else {\r\n                  callback();\r\n                }\r\n              },\r\n              trigger: \"change\"\r\n            }\r\n          },\r\n\r\n          {\r\n            type: \"select\",\r\n            label: \"硬件类\",\r\n            prop: \"fixedtype\",\r\n            seleteOption: this.$store.getters[\"dirtData\"](\"fixed_type\"),\r\n            formatter: (val) => {\r\n              return this.$store.getters[\"fineDirtDataName\"](\"fixed_type\", val);\r\n            },\r\n          },\r\n\r\n          {\r\n            type: \"select\",\r\n            label: \"办公软件类\",\r\n            prop: \"softtype\",\r\n            // required: true,\r\n            seleteOption: this.$store.getters[\"dirtData\"](\"soft_type\"),\r\n            formatter: (val) => {\r\n              return this.$store.getters[\"fineDirtDataName\"](\"soft_type\", val);\r\n            },\r\n          },\r\n          {\r\n            type: \"select\",\r\n            label: \"业务系统类\",\r\n            prop: \"apptype\",\r\n            placeholder: \"请选择业务系统类\",\r\n            // required: true,\r\n            seleteOption: this.$store.getters[\"dirtData\"](\"app_type\"),\r\n            formatter: (val) => {\r\n              return this.$store.getters[\"fineDirtDataName\"](\"app_type\", val);\r\n            },\r\n          },\r\n          {\r\n            type: \"select\",\r\n            label: \"应用系统名称\",\r\n            prop: \"appsysName\",\r\n            id: \"appsysId\",\r\n            placeholder: \"请选择应用系统名称\",\r\n            // required: true,\r\n            seleteOption: this.$store.getters.systemType,\r\n            methods: obj => {\r\n              // console.log(obj);\r\n              this.$refs.editForm.setFormItem(\"appsysId\", obj.value);\r\n              this.$refs.editForm.setFormItem(\"appsysName\", obj.name);\r\n            }\r\n          }, \r\n\r\n          // {\r\n          //   label: \"审批人\",\r\n          //   prop: \"confirmManName\",\r\n          //   idsStr: \"confirmMan\",\r\n          //   type: \"user\",\r\n          //   isHide: this.pageType == \"details\" && !this.isWorkFlowEdit,\r\n          //   // required: true,\r\n          //   trigger: \"change\",\r\n          // },\r\n          {\r\n            label: \"申请描述\",\r\n            prop: \"appContent\",\r\n            type: \"textarea\",\r\n            span: 24,\r\n            rows: 4,\r\n          },\r\n          {\r\n            label: \"备注\",\r\n            prop: \"remark\",\r\n            type: \"textarea\",\r\n            span: 24,\r\n            rows: 4,\r\n          },\r\n        ],\r\n      },\r\n      procInstType:null,\r\n      //附件设置\r\n      attachSetting: {\r\n        title: \"\",\r\n        select: false,\r\n        billType: \"asset_regist\", //页面标识\r\n        sourceId: \"\", //单据的ID\r\n        btnArr: [\"add\", \"delete\", \"save\"],\r\n      },\r\n      //评分设置\r\n      scoreSetting: {\r\n        title: \"\",\r\n        billType: this.procInstType, //页面标识\r\n        sourceId: \"\", //单据的ID\r\n        data: [],\r\n        btnArr: [\"save\"],\r\n      },\r\n      scoreHideBtn: false,\r\n      coverList: [],\r\n      dialogVisible: false,\r\n      activeName: \"0\",\r\n      hideBtn: false,\r\n      showScore: false,\r\n      beforeSubmit: {\r\n        //工作流提交前检测\r\n        methods: (data) => {\r\n          return this.submitBefore(data);\r\n        },\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    //工作流额外参数\r\n    workFlowParams() {\r\n      let { procInstType } = this.editFormData;\r\n      if (this.formData.status === 4 && this.formData.workflowIsApprover) {\r\n        return {\r\n          procInstType: procInstType || \"\",\r\n          assignercodes: [this.editFormData.confirmMan],\r\n        };\r\n      }\r\n      return { procInstType: procInstType || \"\" };\r\n    },\r\n    //是否是流程中可编辑\r\n    isWorkFlowEdit() {\r\n      if (this.formData.status === 4 && this.formData.workflowIsApprover) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      //row.status\r\n      if (this.pageType == \"add\") {\r\n        let defaultForm = {};\r\n        if (this.defaultSet) {\r\n          defaultForm = { ...this.formData };\r\n        }\r\n        this.editFormData = Object.assign({}, defaultForm, {\r\n          billDate: this.$utils.getNowDay(),\r\n        });\r\n      } else {\r\n        this.getDetails(this.formData.id);\r\n      }\r\n      if (this.pageType == \"details\") {\r\n        if (!this.isWorkFlowEdit) {\r\n          this.formConfig.itemArr.map((i) => (i.disabled = true));\r\n        }\r\n        this.attachSetting.sourceId = this.formData.id; //附件id\r\n      }\r\n      if (this.pageType == \"score\") {\r\n        //评分\r\n        this.scoreSetting.sourceId = this.formData.id;\r\n        this.formConfig.itemArr.map((i) => (i.disabled = true));\r\n        this.showScore = true; //显示评分\r\n      }\r\n    },\r\n\r\n    //获取详情\r\n    async getDetails(id) {\r\n      let res = await getDetailsApi(id);\r\n      let obj = res.data || {};\r\n      this.procInstType = obj.procInstType;//附件页面标识\r\n      this.attachSetting.sourceId = obj.id;//附件对应的流程ID，新建流程保存后即可添加附件\r\n      this.editFormData = Object.assign({}, obj, {\r\n        confirmMan: obj.empId,\r\n        confirmManName: obj.zystaffunName,\r\n      });\r\n    },\r\n    //提交前检测\r\n    submitBefore(data) {\r\n      //如果是起草节点\r\n      if (this.isWorkFlowEdit) {\r\n        return new Promise((resolve, reject) => {\r\n          this.$refs.editForm\r\n            .getFormData()\r\n            .then((data) => {\r\n              this.$set(data, \"submitType\", 1);\r\n              // console.log(data);\r\n              this.editFormData = Object.assign({}, data);\r\n              \r\n              updateRepairapp(data)\r\n                .then((res) => {\r\n                  resolve();\r\n                })\r\n                .catch((e) => {\r\n                  reject(e);\r\n                });\r\n            })\r\n            .catch((e) => {\r\n              console.log(e)\r\n              reject(\"表单信息未填写完整\");\r\n            });\r\n        });\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n    //工作流提交成功之后\r\n    workFlowSuccess() {\r\n      this.$emit(\"update:pageType\", \"list\");\r\n    },\r\n    //获取表单数据\r\n    getFormData() {\r\n      return this.$refs.editForm.getFormData();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=330f7e4a&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"330f7e4a\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/request/api'\r\n/**===========基本信息接口 */\r\n//列表\r\nexport function getListApi(data = {}) {\r\n    return request({\r\n        url: '/workorder/AccountappAction/queryList.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n//详情\r\nexport function getDetailsApi(id = \"\") {\r\n    return request({\r\n        url: '/workorder/AccountappAction/detail.htm',\r\n        method: 'post',\r\n        params:{ id: id }\r\n    })\r\n}\r\n\r\n//删除\r\nexport function deleteApi(id = \"\") {\r\n    return request({\r\n        url: '/workorder/AccountappAction/delete.htm',\r\n        method: 'post',\r\n        params: { id: id }\r\n    })\r\n}\r\n//添加\r\nexport function addApi(data = {}) {\r\n    return request({\r\n        url: '/workorder/AccountappAction/addAccountapp.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n//保存草稿\r\nexport function updateApi(data = {}) {\r\n    return request({\r\n        url: '/workorder/AccountappAction/updateAccountapp.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\n\r\n","import request from '@/request/api'\r\n/**===========基本信息接口 */\r\n//获取列表\r\nexport function getListApi(data = {}) {\r\n    return request({\r\n        url: '/workorder/msgappAction/queryList.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n//详情\r\nexport function getDetailsApi(id = \"\") {\r\n    return request({\r\n        url: '/workorder/msgappAction/detail.htm',\r\n        method: 'post',\r\n        params:{ id: id }\r\n    })\r\n}\r\n//删除\r\nexport function deleteApi(id = \"\") {\r\n    return request({\r\n        url: '/workorder/msgappAction/delete.htm',\r\n        method: 'post',\r\n        params: { id: id }\r\n    })\r\n}\r\n\r\n//提交流程\r\nexport function addApi(data = {}) {\r\n    return request({\r\n        url: '/workorder/msgappAction/addMsgapp.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n//保存草稿\r\nexport function updateApi(data = {}) {\r\n    return request({\r\n        url: '/workorder/msgappAction/updateMsgapp.htm',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"record__content\"},[_c('div',{staticClass:\"record__baseinfo\"},[_c('dividerTitle',{attrs:{\"title\":'基本信息'}}),_c('editForm',{ref:\"editForm\",attrs:{\"formConfig\":_vm.formConfig,\"formData\":_vm.editFormData},scopedSlots:_vm._u([{key:\"assetsNumber\",fn:function(ref){\nvar editFormInfo = ref.editFormInfo;\nreturn [_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请选择资产信息\",\"readonly\":\"\",\"disabled\":_vm.pageType == 'details' && !_vm.isWorkFlowEdit,\"size\":\"mini\"},model:{value:(editFormInfo.assetsNumber),callback:function ($$v) {_vm.$set(editFormInfo, \"assetsNumber\", $$v)},expression:\"editFormInfo.assetsNumber\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.goSeleteAsset($event)}},slot:\"append\"})],1)]}}])})],1),(_vm.editFormData.status && _vm.editFormData.status == 1)?_c('div',{staticClass:\"process_score\"},[_c('dividerTitle',{attrs:{\"title\":'评分'}}),(_vm.showScore)?_c('processScore',{attrs:{\"scoreSetting\":_vm.scoreSetting,\"hideBtn\":_vm.scoreHideBtn,\"showScore\":_vm.showScore},on:{\"update:showScore\":function($event){_vm.showScore=$event},\"update:show-score\":function($event){_vm.showScore=$event}}}):_vm._e()],1):_vm._e(),_c('div',{staticClass:\"record__attach\"},[_c('dividerTitle',{attrs:{\"title\":'附件'}}),_c('attachTable',{ref:\"attachFile\",attrs:{\"attachSetting\":_vm.attachSetting,\"hideBtn\":_vm.hideBtn}})],1),(\n      _vm.pageType == 'details' &&\n        _vm.editFormData.status &&\n        _vm.editFormData.status !== 2\n    )?_c('div',{staticClass:\"record__workflow\"},[_c('dividerTitle',{attrs:{\"title\":'工作流'}}),_c('workFlow',{attrs:{\"currentFlowData\":_vm.editFormData,\"beforeSubmit\":_vm.beforeSubmit,\"otherParams\":_vm.workFlowParams},on:{\"submitSuccess\":_vm.workFlowSuccess}})],1):_vm._e(),(_vm.showSelete)?_c('assetSelete',{attrs:{\"hadSeleteData\":_vm.hadSeleteData,\"showSelete\":_vm.showSelete,\"userID\":_vm.employeeId},on:{\"changeSelete\":_vm.changeSeleteAsset,\"update:showSelete\":function($event){_vm.showSelete=$event},\"update:show-selete\":function($event){_vm.showSelete=$event}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"record__content\">\r\n    <div class=\"record__baseinfo\">\r\n      <dividerTitle :title=\"'基本信息'\"></dividerTitle>\r\n      <editForm\r\n        :formConfig=\"formConfig\"\r\n        ref=\"editForm\"\r\n        :formData=\"editFormData\"\r\n      >\r\n        <template #assetsNumber=\"{editFormInfo}\">\r\n          <el-input\r\n            placeholder=\"请选择资产信息\"\r\n            v-model=\"editFormInfo.assetsNumber\"\r\n            readonly\r\n            :disabled=\"pageType == 'details' && !isWorkFlowEdit\"\r\n            size=\"mini\"\r\n            class=\"input-with-select\"\r\n          >\r\n            <el-button\r\n              slot=\"append\"\r\n              icon=\"el-icon-search\"\r\n              @click.stop=\"goSeleteAsset\"\r\n            ></el-button>\r\n          </el-input>\r\n        </template>\r\n      </editForm>\r\n    </div>\r\n    <div\r\n      class=\"process_score\"\r\n      v-if=\"editFormData.status && editFormData.status == 1\"\r\n    >\r\n      <dividerTitle :title=\"'评分'\"></dividerTitle>\r\n      <processScore\r\n        v-if=\"showScore\"\r\n        :scoreSetting=\"scoreSetting\"\r\n        :hideBtn=\"scoreHideBtn\"\r\n        :showScore.sync=\"showScore\"\r\n      ></processScore>\r\n    </div>\r\n    <div class=\"record__attach\">\r\n      <dividerTitle :title=\"'附件'\"></dividerTitle>\r\n      <attachTable\r\n        :attachSetting=\"attachSetting\"\r\n        :hideBtn=\"hideBtn\"\r\n        ref=\"attachFile\"\r\n      ></attachTable>\r\n    </div>\r\n\r\n    <div\r\n      class=\"record__workflow\"\r\n      v-if=\"\r\n        pageType == 'details' &&\r\n          editFormData.status &&\r\n          editFormData.status !== 2\r\n      \"\r\n    >\r\n      <dividerTitle :title=\"'工作流'\"></dividerTitle>\r\n      <workFlow\r\n        :currentFlowData=\"editFormData\"\r\n        :beforeSubmit=\"beforeSubmit\"\r\n        :otherParams=\"workFlowParams\"\r\n        @submitSuccess=\"workFlowSuccess\"\r\n      ></workFlow>\r\n    </div>\r\n    <assetSelete\r\n      v-if=\"showSelete\"\r\n      :hadSeleteData=\"hadSeleteData\"\r\n      @changeSelete=\"changeSeleteAsset\"\r\n      :showSelete.sync=\"showSelete\"\r\n      :userID=\"employeeId\"\r\n    ></assetSelete>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getDetailsApi, //获取详情\r\n  updateApi\r\n} from \"@/api/itService/informationResourceApply\";\r\nexport default {\r\n  props: {\r\n    formData: {\r\n      type: Object,\r\n      default: new Object()\r\n    },\r\n    pageType: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    defaultSet: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // userInfo: this.$store.getters.userInfo,\r\n      hadSeleteData: [],\r\n      employeeId: null,\r\n      showSelete: false,\r\n      editFormData: { suitableWorkArr: [] },\r\n      trainingType: {},\r\n      formConfig: {\r\n        itemArr: [\r\n          {\r\n            label: \"申请日期\",\r\n            prop: \"billDate\",\r\n            type: \"date\",\r\n            // required: true,\r\n            span: 8\r\n          },\r\n          {\r\n            label: \"申请人\",\r\n            prop: \"staffunName\",\r\n            idsStr: \"employeeId\",\r\n            type: \"user\",\r\n            trigger: \"change\",\r\n            // required: true,\r\n            methods: obj => {\r\n              let { orgNodeName, orgNodeCode, mobile, id } = obj[0];\r\n              this.employeeId = id;\r\n              this.$refs.editForm.setFormItem(\"depatName\", orgNodeName);\r\n              this.$refs.editForm.setFormItem(\"depatCode\", orgNodeCode);\r\n              this.$refs.editForm.setFormItem(\"phone\", mobile);\r\n            }\r\n          },\r\n          {\r\n            label: \"申请部门\",\r\n            prop: \"depatName\",\r\n            id: \"depatCode\",\r\n            // required: true,\r\n            disabled: true,\r\n            placeholder: \"选择申请人后自动带出\",\r\n            type: \"text\"\r\n          },\r\n          {\r\n            label: \"联系号码\",\r\n            prop: \"phone\",\r\n            // required: true,\r\n            type: \"text\",\r\n            placeholder: \"选择申请人后自动带出\",\r\n            rules: {\r\n              validator: function(rule, value, callback) {\r\n                const reg = /^[0-9]*$/;\r\n                if (!value) {\r\n                  // return callback(new Error(\"请填写手机号码！\"));\r\n                } else if (!reg.test(value)) {\r\n                  return callback(new Error(\"请填写正确的手机号码！\"));\r\n                } else {\r\n                  callback();\r\n                }\r\n              },\r\n              trigger: \"change\"\r\n            }\r\n          },\r\n          {\r\n            label: \"资产编号\",\r\n            prop: \"assetsNumber\",\r\n            type: \"text\",\r\n            // required: true\r\n          },\r\n          {\r\n            type: \"text\",\r\n            label: \"资产类型\",\r\n            prop: \"assetTypeName\",\r\n            // idsStr:\"assetTypeId\",\r\n            placeholder: \"选择资产后自动带出\",\r\n            disabled: true\r\n          },\r\n          {\r\n            label: \"资产型号\",\r\n            prop: \"goodsModel\",\r\n            type: \"text\",\r\n            placeholder: \"选择资产后自动带出\",\r\n            disabled: true\r\n          },\r\n          {\r\n            type: \"select\",\r\n            label: \"业务类型\",\r\n            prop: \"apptype\",\r\n            // required: true,\r\n            seleteOption: this.$store.getters[\"dirtData\"](\"msg_type\"),\r\n            formatter: val => {\r\n              return this.$store.getters[\"fineDirtDataName\"](\"msg_type\", val);\r\n            }\r\n          },\r\n          {\r\n            label: \"审批人\",\r\n            prop: \"confirmManName\",\r\n            idsStr: \"confirmMan\",\r\n            type: \"user\",\r\n            isHide: this.pageType == \"details\" && !this.isWorkFlowEdit,\r\n            // required: true,\r\n            trigger: \"change\"\r\n          },\r\n          {\r\n            label: \"申请描述\",\r\n            prop: \"appContent\",\r\n            type: \"textarea\",\r\n            span: 24,\r\n            rows: 4\r\n          },\r\n          {\r\n            label: \"备注\",\r\n            prop: \"remark\",\r\n            type: \"textarea\",\r\n            span: 24,\r\n            rows: 4\r\n          }\r\n        ]\r\n      },\r\n      procInstType:null,\r\n      //附件设置\r\n      attachSetting: {\r\n        title: \"\",\r\n        select: false,\r\n        billType: this.procInstType, //页面标识\r\n        sourceId: \"\", //单据的ID\r\n        btnArr: [\"add\", \"delete\", \"save\"]\r\n      },\r\n      //评分设置\r\n      scoreSetting: {\r\n        title: \"\",\r\n        billType: \"asset_regist\", //页面标识\r\n        sourceId: \"\", //单据的ID\r\n        data: [],\r\n        btnArr: [\"save\"]\r\n      },\r\n      scoreHideBtn: false,\r\n      coverList: [],\r\n      dialogVisible: false,\r\n      activeName: \"0\",\r\n      hideBtn: false,\r\n      showScore: false,\r\n      beforeSubmit: {\r\n        //工作流提交前检测\r\n        methods: data => {\r\n          return this.submitBefore(data);\r\n        }\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    //工作流额外参数\r\n    workFlowParams() {\r\n      let { procInstType } = this.editFormData;\r\n      if (this.formData.status === 4 && this.formData.workflowIsApprover) {\r\n        return {\r\n          procInstType: procInstType || \"\",\r\n          assignercodes: [this.editFormData.confirmMan]\r\n        };\r\n      }\r\n      return { procInstType: procInstType || \"\" };\r\n    },\r\n    //是否是流程中可编辑\r\n    isWorkFlowEdit() {\r\n      if (this.formData.status === 4 && this.formData.workflowIsApprover) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      //row.status\r\n      if (this.pageType == \"add\") {\r\n        let defaultForm = {};\r\n        if (this.defaultSet) {\r\n          defaultForm = { ...this.formData };\r\n        }\r\n        this.editFormData = Object.assign({}, defaultForm, {\r\n          billDate: this.$utils.getNowDay()\r\n        });\r\n      } else {\r\n        this.getDetails(this.formData.id);\r\n      }\r\n      if (this.pageType == \"details\") {\r\n        if (!this.isWorkFlowEdit) {\r\n          this.formConfig.itemArr.map(i => (i.disabled = true));\r\n        }\r\n        this.attachSetting.sourceId = this.formData.id; //附件id\r\n      }\r\n      if (this.pageType == \"score\") {\r\n        //评分\r\n        this.scoreSetting.sourceId = this.formData.id;\r\n        this.formConfig.itemArr.map(i => (i.disabled = true));\r\n        this.showScore = true; //显示评分\r\n      }\r\n      // console.log(this.$store.getters.userInfo);\r\n    },\r\n\r\n    //获取详情\r\n    async getDetails(id) {\r\n      let res = await getDetailsApi(id);\r\n      let obj = res.data || {};\r\n      // console.log(res.data );\r\n      this.procInstType = obj.procInstType;\r\n      this.attachSetting.sourceId = obj.id;\r\n      this.editFormData = Object.assign({}, obj, {\r\n        confirmMan: obj.empId,\r\n        confirmManName: obj.zystaffunName\r\n      });\r\n    },\r\n        //提交前检测\r\n    submitBefore(data) {\r\n      //如果是起草节点\r\n      if (this.isWorkFlowEdit) {\r\n        return new Promise((resolve, reject) => {\r\n          this.$refs.editForm\r\n            .getFormData()\r\n            .then((data) => {\r\n              let {\r\n                billDate,\r\n                employeeId,\r\n                depatcode,\r\n                phone,\r\n                assetsNumber,\r\n                assetTypeName,\r\n                goodsModel,\r\n                apptype,\r\n                confirmMan,\r\n                appContent,\r\n                remark,\r\n                sourceId,\r\n                id,\r\n              } = data;\r\n              let params = {\r\n                billDate,\r\n                employeeId,\r\n                depatcode,\r\n                phone,\r\n                assetsNumber,\r\n                assetTypeName,\r\n                goodsModel,\r\n                apptype,\r\n                confirmMan,\r\n                appContent,\r\n                remark,\r\n                sourceId,\r\n                submitType: 1,\r\n                id,\r\n              };\r\n              this.editFormData = Object.assign({}, data);\r\n              \r\n              updateApi(params)\r\n                .then((res) => {\r\n                  resolve();\r\n                })\r\n                .catch((e) => {\r\n                  reject(e);\r\n                });\r\n            })\r\n            .catch((e) => {\r\n              reject(\"表单信息未填写完整\");\r\n            });\r\n        });\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n    //工作流提交成功之后\r\n    workFlowSuccess() {\r\n      this.$emit(\"update:pageType\", \"list\");\r\n    },\r\n    //获取表单数据\r\n    getFormData() {\r\n      return this.$refs.editForm.getFormData();\r\n    },\r\n    //点击选择资产\r\n    goSeleteAsset() {\r\n      // console.log(\"diaoyong\");\r\n      if (this.employeeId) {\r\n        if (this.pageType == \"details\") {\r\n          return;\r\n        }\r\n        let sourceId = this.$refs.editForm.getFormItem(\"sourceId\");\r\n        this.hadSeleteData = [{ id: sourceId }];\r\n\r\n        this.showSelete = true;\r\n      } else {\r\n        this.$message.warning(\"请先选择申请人\");\r\n      }\r\n    },\r\n    //确定选择资产\r\n    changeSeleteAsset(list) {\r\n      // console.log(list);\r\n      let [obj] = list;\r\n      let {\r\n        assetsNumber,\r\n        assetTypeName,\r\n        assetTypeId,\r\n        goodsModel,\r\n        id: sourceId\r\n      } = obj; //assetsNumber\r\n      this.$refs.editForm.setFormItem(\"assetsNumber\", assetsNumber);\r\n      this.$refs.editForm.setFormItem(\"assetTypeName\", assetTypeName);\r\n      // this.$refs.editForm.setFormItem(\"assetTypeId\", assetTypeId);\r\n      this.$refs.editForm.setFormItem(\"goodsModel\", goodsModel);\r\n      this.$refs.editForm.setFormItem(\"sourceId\", sourceId);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=10cc4f78&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10cc4f78\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"record__content\"},[_c('div',{staticClass:\"record__baseinfo\"},[_c('dividerTitle',{attrs:{\"title\":'基本信息'}}),_c('editForm',{ref:\"editForm\",attrs:{\"formConfig\":_vm.formConfig,\"formData\":_vm.editFormData},scopedSlots:_vm._u([{key:\"assetsNumber\",fn:function(ref){\nvar editFormInfo = ref.editFormInfo;\nreturn [_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请选择资产信息\",\"readonly\":\"\",\"disabled\":_vm.pageType == 'details' && !_vm.isWorkFlowEdit,\"size\":\"mini\"},model:{value:(editFormInfo.assetsNumber),callback:function ($$v) {_vm.$set(editFormInfo, \"assetsNumber\", $$v)},expression:\"editFormInfo.assetsNumber\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.goSeleteAsset($event)}},slot:\"append\"})],1)]}}])})],1),(_vm.editFormData.status && _vm.editFormData.status == 1)?_c('div',{staticClass:\"process_score\"},[_c('dividerTitle',{attrs:{\"title\":'评分'}}),(_vm.showScore)?_c('processScore',{attrs:{\"scoreSetting\":_vm.scoreSetting,\"hideBtn\":_vm.scoreHideBtn,\"showScore\":_vm.showScore},on:{\"update:showScore\":function($event){_vm.showScore=$event},\"update:show-score\":function($event){_vm.showScore=$event}}}):_vm._e()],1):_vm._e(),_c('div',{staticClass:\"software_details\"},[_c('dividerTitle',{attrs:{\"title\":'软件申请明细'}}),_c('editTable',{ref:\"checkSoftware\",attrs:{\"tableSetting\":_vm.detailsSetting,\"hideBtn\":_vm.hideBtn},on:{\"handleClickAdd\":_vm.addSoftware}})],1),(\n      _vm.pageType == 'details' &&\n        _vm.editFormData.status &&\n        _vm.editFormData.status !== 2\n    )?_c('div',{staticClass:\"record__workflow\"},[_c('dividerTitle',{attrs:{\"title\":'工作流'}}),_c('workFlow',{attrs:{\"currentFlowData\":_vm.editFormData,\"beforeSubmit\":_vm.beforeSubmit,\"otherParams\":_vm.workFlowParams},on:{\"submitSuccess\":_vm.workFlowSuccess}})],1):_vm._e(),(_vm.showSelete)?_c('softwareSelete',{attrs:{\"hadSeleteData\":_vm.hadSeleteData,\"showSelete\":_vm.showSelete},on:{\"changeSelete\":_vm.changeSeleteSorft,\"update:showSelete\":function($event){_vm.showSelete=$event},\"update:show-selete\":function($event){_vm.showSelete=$event}}}):_vm._e(),(_vm.showAssetSelete)?_c('assetSelete',{attrs:{\"hadSeleteData\":_vm.assetSeleteData,\"showSelete\":_vm.showAssetSelete,\"userID\":_vm.employeeId},on:{\"changeSelete\":_vm.changeSeleteAsset,\"update:showSelete\":function($event){_vm.showAssetSelete=$event},\"update:show-selete\":function($event){_vm.showAssetSelete=$event}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"software-selete\"},[_c('dialogPublic',{attrs:{\"title\":\"可选软件\",\"show\":_vm.showDialong,\"fullscreen\":\"\",\"appendTobody\":\"\"},on:{\"update:show\":function($event){_vm.showDialong=$event},\"doSubmit\":_vm.doSave,\"doClose\":_vm.doClose}},[_c('seleteTable',{ref:\"seleteTable\",attrs:{\"tableSetting\":_vm.tableSetting,\"hadData\":_vm.hadSeleteData}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"software-selete\">\r\n    <dialogPublic\r\n      title=\"可选软件\"\r\n      :show.sync=\"showDialong\"\r\n      @doSubmit=\"doSave\"\r\n      @doClose=\"doClose\"\r\n      fullscreen\r\n      appendTobody\r\n    >\r\n      <seleteTable\r\n        :tableSetting=\"tableSetting\"\r\n        :hadData=\"hadSeleteData\"\r\n        ref=\"seleteTable\"\r\n      ></seleteTable>\r\n    </dialogPublic>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport seleteTable from \"@/components/table/seleteTable\";\r\nimport { getAllowListApi } from \"@/api/itService/softwareApply\";\r\nexport default {\r\n  props: {\r\n    hadSeleteData: {\r\n      type: Array,\r\n      default: new Array()\r\n    },\r\n    showSelete: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // userID: {\r\n    //   type: String,\r\n    //   default: null\r\n    // }\r\n  },\r\n  // watch: {\r\n  //   userID(val) {\r\n  //     if (val) {\r\n  //       this.getAssets(val);\r\n  //     }\r\n  //   }\r\n  // },\r\n  components: { seleteTable },\r\n  data() {\r\n    return {\r\n      tableSetting: {\r\n        maxHeight: \"600px\",\r\n        column: [\r\n          {\r\n            label: \"资产分类\",\r\n            prop: \"assetTypeName\"\r\n          },\r\n          {\r\n            label: \"资产型号\",\r\n            prop: \"goodsModel\"\r\n          },\r\n          {\r\n            label: \"登记单号\",\r\n            prop: \"billNo\"\r\n          },\r\n          {\r\n            label: \"库存数量\",\r\n            prop: \"instock\"\r\n          },\r\n        ],\r\n        data: []\r\n      },\r\n      showDialong: true\r\n    };\r\n  },\r\n  created() {\r\n      this.getAssets();\r\n  },\r\n  methods: {\r\n    async getAssets() {\r\n      let res = await getAllowListApi();\r\n      let data = res.data;\r\n      // console.log(res);\r\n      this.$refs.seleteTable.setTableData(data || []);\r\n    },\r\n    doClose() {\r\n      this.$emit(\"update:showSelete\", false);\r\n    },\r\n    doSave() {\r\n      let list = this.$refs.seleteTable.getSeleteData();\r\n      this.$emit(\"changeSelete\", list);\r\n      this.doClose();\r\n      // if (list.length == 1) {\r\n      //   this.$emit(\"changeSelete\", list);\r\n      //   this.doClose();\r\n      // } else {\r\n      //   this.$message.warning(\"请选择一个需要操作的资产！\");\r\n      // }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./softwareSelete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./softwareSelete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./softwareSelete.vue?vue&type=template&id=891ea4fe&\"\nimport script from \"./softwareSelete.vue?vue&type=script&lang=js&\"\nexport * from \"./softwareSelete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"record__content\">\r\n    <div class=\"record__baseinfo\">\r\n      <dividerTitle :title=\"'基本信息'\"></dividerTitle>\r\n      <editForm\r\n        :formConfig=\"formConfig\"\r\n        ref=\"editForm\"\r\n        :formData=\"editFormData\"\r\n      >\r\n        <template #assetsNumber=\"{editFormInfo}\">\r\n          <el-input\r\n            placeholder=\"请选择资产信息\"\r\n            v-model=\"editFormInfo.assetsNumber\"\r\n            readonly\r\n            :disabled=\"pageType == 'details' && !isWorkFlowEdit\"\r\n            size=\"mini\"\r\n            class=\"input-with-select\"\r\n          >\r\n            <el-button\r\n              slot=\"append\"\r\n              icon=\"el-icon-search\"\r\n              @click.stop=\"goSeleteAsset\"\r\n            ></el-button>\r\n          </el-input>\r\n        </template>\r\n      </editForm>\r\n    </div>\r\n    <div\r\n      class=\"process_score\"\r\n      v-if=\"editFormData.status && editFormData.status == 1\"\r\n    >\r\n      <dividerTitle :title=\"'评分'\"></dividerTitle>\r\n      <processScore\r\n        v-if=\"showScore\"\r\n        :scoreSetting=\"scoreSetting\"\r\n        :hideBtn=\"scoreHideBtn\"\r\n        :showScore.sync=\"showScore\"\r\n      ></processScore>\r\n    </div>\r\n    <div class=\"software_details\">\r\n      <dividerTitle :title=\"'软件申请明细'\"></dividerTitle>\r\n      <editTable\r\n        :tableSetting=\"detailsSetting\"\r\n        :hideBtn=\"hideBtn\"\r\n        @handleClickAdd=\"addSoftware\"\r\n        ref=\"checkSoftware\"\r\n      ></editTable>\r\n      <!-- <KlTable\r\n        v-bind=\"tableConfig\"\r\n        ref=\"detailsTable\"\r\n      ></KlTable> -->\r\n    </div>\r\n    <!-- <div class=\"record__attach\">\r\n      <dividerTitle :title=\"'附件'\"></dividerTitle>\r\n      <attachTable\r\n        :attachSetting=\"attachSetting\"\r\n        :hideBtn=\"hideBtn\"\r\n        ref=\"attachFile\"\r\n      ></attachTable>\r\n    </div> -->\r\n\r\n    <div\r\n      class=\"record__workflow\"\r\n      v-if=\"\r\n        pageType == 'details' &&\r\n          editFormData.status &&\r\n          editFormData.status !== 2\r\n      \"\r\n    >\r\n      <dividerTitle :title=\"'工作流'\"></dividerTitle>\r\n      <workFlow\r\n        :currentFlowData=\"editFormData\"\r\n        :beforeSubmit=\"beforeSubmit\"\r\n        :otherParams=\"workFlowParams\"\r\n        @submitSuccess=\"workFlowSuccess\"\r\n      ></workFlow>\r\n    </div>\r\n    <softwareSelete\r\n      v-if=\"showSelete\"\r\n      :hadSeleteData=\"hadSeleteData\"\r\n      @changeSelete=\"changeSeleteSorft\"\r\n      :showSelete.sync=\"showSelete\"\r\n    ></softwareSelete>\r\n    <assetSelete\r\n      v-if=\"showAssetSelete\"\r\n      :hadSeleteData=\"assetSeleteData\"\r\n      @changeSelete=\"changeSeleteAsset\"\r\n      :showSelete.sync=\"showAssetSelete\"\r\n      :userID=\"employeeId\"\r\n    ></assetSelete>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getDetailsApi, //获取详情\r\n  updateApi\r\n} from \"@/api/itService/softwareApply\"; //\r\nimport softwareSelete from \"./softwareSelete\";\r\nexport default {\r\n  props: {\r\n    formData: {\r\n      type: Object,\r\n      default: new Object()\r\n    },\r\n    pageType: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    defaultSet: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  components: { softwareSelete },\r\n  data() {\r\n    return {\r\n      // userInfo: this.$store.getters.userInfo,\r\n      hadSeleteData: [], //软件选择\r\n      assetSeleteData: [], //资产选择\r\n      employeeId: null,\r\n      showSelete: false,\r\n      showAssetSelete: false,\r\n      editFormData: { suitableWorkArr: [] },\r\n      trainingType: {},\r\n      hideBtn: false,\r\n      maxNum: 0,\r\n      detailsSetting: {\r\n        title: \"\",\r\n        select: true,\r\n        addMethons: true,\r\n        maxHeight: 400,\r\n        btnArr: [\"add\", \"delete\"], //\"edit\",\r\n        column: [\r\n          {\r\n            label: \"资产分类\",\r\n            prop: \"assetTypeName\",\r\n            // required: true,\r\n            readonly: true,\r\n            disabled: true,\r\n            type: \"text\"\r\n          },\r\n          {\r\n            label: \"资产型号\",\r\n            prop: \"goodsModel\",\r\n            // width: 150,\r\n            type: \"text\",\r\n            readonly: true,\r\n            disabled: true\r\n          },\r\n          {\r\n            label: \"登记单号\",\r\n            prop: \"billNo\",\r\n            // width: 150,\r\n            type: \"text\",\r\n            readonly: true,\r\n            disabled: true\r\n          },\r\n          {\r\n            label: \"申请时库存\",\r\n            prop: \"instock\",\r\n            // width: 150,\r\n            type: \"number\",\r\n            min: 0,\r\n            // required: true,\r\n            disabled: true\r\n            // readonly: true\r\n          },\r\n          {\r\n            label: \"数量\",\r\n            prop: \"qty\",\r\n            // width: 150,\r\n            type: \"number\",\r\n            min: 0,\r\n            precision: 0,\r\n            step: 1,\r\n            disabled: false,\r\n            required: true\r\n          }\r\n        ]\r\n      },\r\n      formConfig: {\r\n        itemArr: [\r\n          {\r\n            label: \"申请日期\",\r\n            prop: \"billDate\",\r\n            type: \"date\",\r\n            // required: true,\r\n            span: 8\r\n          },\r\n          {\r\n            label: \"申请人\",\r\n            prop: \"staffunName\",\r\n            idsStr: \"employeeId\",\r\n            type: \"user\",\r\n            trigger: \"change\",\r\n            // required: true,\r\n            methods: obj => {\r\n              // console.log(obj);\r\n              let { orgNodeName, orgNodeCode, mobile, id } = obj[0];\r\n              this.employeeId = id;\r\n              this.$refs.editForm.setFormItem(\"depatName\", orgNodeName);\r\n              this.$refs.editForm.setFormItem(\"depatCode\", orgNodeCode);\r\n              this.$refs.editForm.setFormItem(\"phone\", mobile);\r\n            }\r\n          },\r\n          {\r\n            label: \"申请部门\",\r\n            prop: \"depatName\",\r\n            id: \"depatCode\",\r\n            // required: true,\r\n            disabled: true,\r\n            placeholder: \"选择申请人后自动带出\",\r\n            type: \"text\"\r\n          },\r\n          {\r\n            label: \"联系号码\",\r\n            prop: \"phone\",\r\n            // required: true,\r\n            type: \"text\",\r\n            placeholder: \"选择申请人后自动带出\",\r\n            rules: {\r\n              validator: function(rule, value, callback) {\r\n                const reg = /^[0-9]*$/;\r\n                if (!value) {\r\n                  // return callback(new Error(\"请填写手机号码！\"));\r\n                } else if (!reg.test(value)) {\r\n                  return callback(new Error(\"请填写正确的手机号码！\"));\r\n                } else {\r\n                  callback();\r\n                }\r\n              },\r\n              trigger: \"change\"\r\n            }\r\n          },\r\n          {\r\n            label: \"资产编号\",\r\n            prop: \"assetsNumber\",\r\n            type: \"text\",\r\n            // required: true\r\n          },\r\n          {\r\n            type: \"text\",\r\n            label: \"资产类型\",\r\n            prop: \"assetTypeName\",\r\n            // idsStr:\"assetTypeId\",\r\n            placeholder: \"选择资产后自动带出\",\r\n            disabled: true\r\n          },\r\n          {\r\n            label: \"资产型号\",\r\n            prop: \"gModel\",\r\n            type: \"text\",\r\n            placeholder: \"选择资产后自动带出\",\r\n            disabled: true\r\n          },\r\n          {\r\n            type: \"select\",\r\n            label: \"申请类型\", //acc_type\r\n            prop: \"apptype\",\r\n            // id: \"apptype\",\r\n            // required: true,\r\n            seleteOption: this.$store.getters[\"dirtData\"](\"soft_type\"),\r\n            formatter: val => {\r\n              return this.$store.getters[\"fineDirtDataName\"](\"soft_type\", val);\r\n            }\r\n          },\r\n          {\r\n            label: \"审批人\",\r\n            prop: \"confirmManName\",\r\n            idsStr: \"confirmMan\",\r\n            type: \"user\",\r\n            isHide: this.pageType == \"details\" && !this.isWorkFlowEdit,\r\n            // required: true,\r\n            trigger: \"change\"\r\n          },\r\n          {\r\n            label: \"申请描述\",\r\n            prop: \"appContent\",\r\n            type: \"textarea\",\r\n            span: 24,\r\n            rows: 4\r\n          },\r\n          {\r\n            label: \"备注\",\r\n            prop: \"remark\",\r\n            type: \"textarea\",\r\n            span: 24,\r\n            rows: 4\r\n          }\r\n        ]\r\n      },\r\n      procInstType:null,\r\n      // //附件设置\r\n      // attachSetting: {\r\n      //   title: \"\",\r\n      //   select: false,\r\n      //   billType: this.procInstType, //页面标识\r\n      //   sourceId: \"\", //单据的ID\r\n      //   btnArr: [\"add\", \"delete\", \"save\"]\r\n      // },\r\n      //评分设置\r\n      scoreSetting: {\r\n        title: \"\",\r\n        billType: \"asset_regist\", //页面标识\r\n        sourceId: \"\", //单据的ID\r\n        data: [],\r\n        btnArr: [\"save\"]\r\n      },\r\n      scoreHideBtn: false,\r\n      coverList: [],\r\n      dialogVisible: false,\r\n      activeName: \"0\",\r\n      // hideBtn: false,\r\n      showScore: false,\r\n      beforeSubmit: {\r\n        //工作流提交前检测\r\n        methods: data => {\r\n          return this.submitBefore(data);\r\n        }\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    //工作流额外参数\r\n    workFlowParams() {\r\n      let { procInstType } = this.editFormData;\r\n      if (this.formData.status === 4 && this.formData.workflowIsApprover) {\r\n        return {\r\n          procInstType: procInstType || \"\",\r\n          assignercodes: [this.editFormData.confirmMan]\r\n        };\r\n      }\r\n      return { procInstType: procInstType || \"\" };\r\n    },\r\n    //是否是流程中可编辑\r\n    isWorkFlowEdit() {\r\n      if (this.formData.status === 4 && this.formData.workflowIsApprover) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      //row.status\r\n      // console.log(this.pageType);\r\n      if (this.pageType == \"add\") {\r\n        let defaultForm = {};\r\n        if (this.defaultSet) {\r\n          defaultForm = { ...this.formData };\r\n        }\r\n        this.editFormData = Object.assign({}, defaultForm, {\r\n          billDate: this.$utils.getNowDay()\r\n        });\r\n      } else {\r\n        this.getDetails(this.formData.id);\r\n      }\r\n      if (this.pageType == \"details\") {\r\n        if (!this.isWorkFlowEdit) {\r\n          this.formConfig.itemArr.map(i => (i.disabled = true));\r\n          this.hideBtn = true;\r\n        }\r\n        this.hideBtn = true;\r\n        // this.attachSetting.sourceId = this.formData.id; //附件id\r\n      }\r\n      if (this.pageType == \"details\" && this.formData.status == \"4\") {\r\n        this.hideBtn = false;\r\n      } \r\n      if(this.formData.status == \"1\"){\r\n        this.hideBtn = true;\r\n      }\r\n      if (this.pageType == \"score\") {\r\n        //评分\r\n        this.scoreSetting.sourceId = this.formData.id; //评分\r\n        this.formConfig.itemArr.map(i => (i.disabled = true));\r\n        this.showScore = true; //显示评分\r\n      }\r\n    },\r\n\r\n    //获取详情\r\n    async getDetails(id) {\r\n      // console.log(\"id: \" + id);\r\n      let res = await getDetailsApi(id);\r\n      let obj = res.data || {};\r\n      // this.procInstType = obj.procInstType;//附件页面标识\r\n      // this.attachSetting.sourceId = obj.id;//附件对应的流程ID，新建流程保存后即可添加附件\r\n      // console.log(obj);\r\n      this.editFormData = Object.assign({}, obj, {\r\n        confirmMan: obj.empId,\r\n        confirmManName: obj.zystaffunName\r\n      });\r\n      if (obj) {\r\n        this.employeeId = this.editFormData.employeeId;\r\n      }\r\n\r\n      let tableData = res.data.det;\r\n      if (this.pageType === \"edit\") {\r\n        tableData.map(i => {\r\n          i.editable = true;\r\n        });\r\n      }\r\n      this.$refs.checkSoftware.setTableData(tableData);\r\n    },\r\n    //提交前检测\r\n    submitBefore(data) {\r\n      //如果是起草节点\r\n      if (this.isWorkFlowEdit) {\r\n        return new Promise((resolve, reject) => {\r\n          let editFormData = null;\r\n          this.$refs.editForm\r\n            .getFormData()\r\n            .then(data => {\r\n              editFormData = data;\r\n              this.$set(editFormData, \"submitType\", 1);\r\n              // console.log(data);\r\n              this.editFormData = Object.assign({}, data);\r\n              this.$refs.checkSoftware.getTableData().then(data => {\r\n                if (data.length) {\r\n                  let check = true; //检查申请数量是否大于库存数量\r\n                  data.forEach(item => {\r\n                    //遍历数组检查申请数量是否大于库存\r\n                    let num = parseInt(item.instock);\r\n                    if (item.qty > num) {\r\n                      check = false;\r\n                    }\r\n                  });\r\n                  if (check) {\r\n                    editFormData.det = data;\r\n                    this.$delete(editFormData, \"confirmManName\");\r\n                    // this.$delete(editFormData, \"assetsNumber\");\r\n                    this.$delete(editFormData, \"appsysName\");\r\n                    this.$delete(editFormData, \"assetTypeName\");\r\n                    updateApi(editFormData)\r\n                      .then(res => {\r\n                        resolve();\r\n                      })\r\n                      .catch(e => {\r\n                        reject(e);\r\n                      });\r\n                  } else {\r\n                    this.$message.warning(\"申请数量不能大于库存数量！\");\r\n                  }\r\n                } else {\r\n                  this.$message.warning(\"请选择需申请的软件！\");\r\n                }\r\n              });\r\n            })\r\n            .catch(e => {\r\n              console.log(e);\r\n              reject(\"表单信息未填写完整\");\r\n            });\r\n        });\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n    //工作流提交成功之后\r\n    workFlowSuccess() {\r\n      this.$emit(\"update:pageType\", \"list\");\r\n    },\r\n    //获取表单数据\r\n    getFormData() {\r\n      return this.$refs.editForm.getFormData();\r\n    },\r\n    getTableData() {\r\n      return this.$refs.checkSoftware.getTableData();\r\n    },\r\n    //点击新增软件\r\n    addSoftware(data, hadData) {\r\n      this.showSelete = true;\r\n    },\r\n    //确定选择软件\r\n    changeSeleteSorft(list) {\r\n      let [obj] = list;\r\n      list.map(i => {\r\n        i.qty = 1;\r\n        i.sourceId = i.id;\r\n        i.editable = true;\r\n        this.$delete(i, \"id\");\r\n      });\r\n      // console.log(list);\r\n      this.$refs.checkSoftware.setTableData(list || []);\r\n    },\r\n    //点击选择资产\r\n    goSeleteAsset() {\r\n      // console.log(\"diaoyong\");\r\n      if (this.employeeId) {\r\n        if (this.pageType == \"details\") {\r\n          return;\r\n        }\r\n        let sourceId = this.$refs.editForm.getFormItem(\"sourceId\");\r\n        this.assetSeleteData = [{ id: sourceId }];\r\n\r\n        this.showAssetSelete = true;\r\n      } else {\r\n        this.$message.warning(\"请先选择申请人\");\r\n      }\r\n    },\r\n    //确定选择资产\r\n    changeSeleteAsset(list) {\r\n      // console.log(list);\r\n      let [obj] = list;\r\n      let { assetsNumber, assetTypeName, assetTypeId, goodsModel, id } = obj; //assetsNumber\r\n      this.$refs.editForm.setFormItem(\"assetsNumber\", assetsNumber);\r\n      this.$refs.editForm.setFormItem(\"assetTypeName\", assetTypeName);\r\n      this.$refs.editForm.setFormItem(\"assetsId\", id);\r\n      this.$refs.editForm.setFormItem(\"gModel\", goodsModel);\r\n      // this.$refs.editForm.setFormItem(\"sourceId\", sourceId);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=953dacf2&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"953dacf2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}